(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[15],{676:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e){return new Date(e).toLocaleString()},c={convert:function(e){return e.constructor===Date?e:e.constructor===Array?new Date(e[0],e[1],e[2]):e.constructor===Number||e.constructor===String?new Date(e):"object"===typeof e?new Date(e.year,e.month,e.date):NaN},compare:function(e,t){return isFinite(e=this.convert(e).valueOf())&&isFinite(t=this.convert(t).valueOf())?(e>t)-(e<t):NaN},inRange:function(e,t,n){return isFinite(e=this.convert(e).valueOf())&&isFinite(t=this.convert(t).valueOf())&&isFinite(n=this.convert(n).valueOf())?t<=e&&e<=n:NaN}}},677:function(e,t,n){"use strict";n(1);var a=n(72),c=n(18);t.a=function(e){var t=e.keyword,n=void 0===t?"":t,r=e.changeKeyword,i=void 0===r?null:r,s=e.children;return Object(c.jsxs)(a.T,{className:"align-items-center justify-content-between pb-2",children:[Object(c.jsx)(a.l,{sm:"4",children:Object(c.jsx)(a.x,{className:"mb-0",children:Object(c.jsx)(a.B,{type:"text",name:"nf-text",placeholder:"Search Here..",autoComplete:"off",value:n,onChange:i,onKeyPress:i})})}),Object(c.jsx)(a.l,{sm:"4",className:"d-flex justify-content-end",children:s})]})}},722:function(e,t,n){"use strict";n.r(t);var a=n(66),c=n(1),r=n.n(c),i=n(675),s=n(24),o=n(677),u=n(676),l=n(674),d=n(72),j=n(173),f=n(18),h=["name",{key:"createdAt",label:"Registered"},"email","contact"];t.default=function(){var e=r.a.useContext(j.a),t=e.role,n=e.addToast,c=r.a.useState(""),b=Object(a.a)(c,2),m=b[0],v=b[1],O=r.a.useState(1),p=Object(a.a)(O,2),g=p[0],x=p[1],y=r.a.useState(1),w=Object(a.a)(y,2),N=w[0],k=w[1],S=Object(s.g)(),A=Object(i.a)({url:l.a+"/patients",method:"GET"},{manual:!0}),C=Object(a.a)(A,2),F=C[0],T=F.data,D=F.loading,P=F.error,R=C[1];return r.a.useEffect((function(){R({params:{pageNo:N}}).then((function(e){var t,n=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)?e.data.count/10:1;x(Math.ceil(n))}))}),[R,N]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(d.T,{children:Object(f.jsx)(d.l,{xs:"12",lg:"12",children:Object(f.jsxs)(d.g,{children:[Object(f.jsx)(d.k,{children:"Visitors"}),Object(f.jsx)(d.h,{children:Object(f.jsx)(d.p,{items:D||P?[]:(null===T||void 0===T?void 0:T.rows)||[],fields:h,striped:!0,itemsPerPage:10,loading:D,onRowClick:function(e){return S.push("/visitors/".concat(e.id,"/details"))},scopedSlots:{createdAt:function(e){return Object(f.jsx)("td",{children:Object(u.b)(e.createdAt)})}},underTableSlot:Object(f.jsx)(d.R,{activePage:N,pages:g,onActivePageChange:function(e){return k(e)}}),overTableSlot:"doctor"!==t&&Object(f.jsx)(o.a,{keyword:m,changeKeyword:function(e){"Enter"===e.key?R({params:{search:m}}).catch((function(e){n({message:e.response.data.message})})):v(e.target.value)},children:Object(f.jsx)(d.f,{color:"primary",variant:"outline",className:"m-2 pl-3 pr-4",onClick:function(){S.push("/visitors/add")},children:Object(f.jsx)("span",{className:"ml-1",children:"Add Visit"})})})})})]})})})})}}}]);
//# sourceMappingURL=15.7b5b919f.chunk.js.map
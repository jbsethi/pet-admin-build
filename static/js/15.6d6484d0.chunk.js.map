{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","views/addVisitor/ReceiptForm/AddReceiptForm.js","views/addVisitor/NewVisitorsForm.js","views/addVisitor/ReceiptForm/ReceiptForm.js","views/addVisitor/DoctorsForm/DoctorReceipt.js","views/addVisitor/DoctorsForm/AddNewPetForm.js","views/addVisitor/DoctorsForm/DoctorAppointmentForm.js","views/addVisitor/DoctorsForm/DoctorsForm.js","views/addVisitor/addVisitorReducer.js","views/addVisitor/addVisitorState.js","views/addVisitor/AddVisitor.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","AddReceiptForm","show","setShow","dispatch","addToast","React","useContext","AppContext","useState","categoryId","itemId","packageId","quantity","addReceiptRecord","setAddReceiptRecord","categories","setCategories","items","setItems","packages","setPackages","useAxios","url","method","manual","fetchRecord","handleChange","e","resetOther","isSelect","includes","valueFor","oldState","option","target","name","getCategories","useCallback","a","record","options","data","rows","map","category","label","displayName","id","message","response","getPackageItems","params","serviceId","item","price","record2","options2","useEffect","onClose","row","className","htmlFor","xs","onChange","placeholder","type","color","onClick","payload","NewVisitorsForm","isVisitorRecordAdded","visitorRecord","disabled","contact","email","emiratesId","receiptTableFields","ReceiptForm","receiptFormVisibility","showAddReceiptFormModal","receiptItems","showAddReceiptForm","status","shape","variant","checked","fields","footer","hover","scopedSlots","console","log","size","overTableSlot","DoctorReceipt","doctorsReceipt","md","pet","appointmentDate","getDate","getMonth","getFullYear","isFollowUp","fee","AddNewPetForm","visitorId","setSelectedPet","breed","age","dob","specie","gender","microchip","petInfo","setPetInfo","handleChangePetInfo","dobAge","currentYear","Date","inYears","custom","patientId","resp","catch","DoctorAppointmentForm","showAddAppointmentModal","setShowAddAppointmentModal","showNewPetModal","setShowNewPetModal","keyword","setKeyword","selectedPet","setFee","setIsFollowUp","length","search","o","onInputChange","input","DoctorsForm","doctorFormVisibility","isDoctorVisitAdded","addVisitorReducer","state","visitorsId","isItemId","itemIdx","findIndex","i","qty","total","idx","filter","initialState","AddVisitor","history","useHistory","useReducer","reducer","sm","appointment","checkUpPrice","description","followUp","push","storeNewOrder"],"mappings":"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","file":"static/js/15.6d6484d0.chunk.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from 'react'\n\nimport RSelect from 'react-select';\n\nimport {\n  CModal,\n  CModalHeader,\n  CModalFooter,\n  CModalBody,\n  CButton,\n  CFormGroup,\n  CCol,\n  CLabel,\n  CInput\n} from '@coreui/react'\n\nimport useAxios from 'axios-hooks'\n\nimport { AppContext } from '../../../App.js'\n\nconst AddReceiptForm = ({ show, setShow, dispatch }) => {\n  const { addToast } = React.useContext(AppContext)\n  const [addReceiptRecord, setAddReceiptRecord] = React.useState({\n    categoryId: null,\n    itemId: null,\n    packageId: null,\n    quantity: 1\n  })\n\n  const [categories, setCategories] = React.useState([])\n  const [items, setItems] = React.useState([])\n  const [packages, setPackages] = React.useState([])\n\n  const [\n    ,\n    fetchRecord\n  ] = useAxios(\n    {\n      url: 'https://app.aloropivetcenter.com/api/services',\n      method: 'POST'\n    },\n    { manual: true }\n  )\n\n  const handleChange = (e) => {\n    if (e.isSelect) {\n      let resetOther\n      if (['packageId', 'itemId'].includes(e.valueFor)) {\n        resetOther = e.valueFor === 'itemId' ? 'packageId' : 'itemId'\n      }\n      setAddReceiptRecord(oldState => {\n        return {\n          ...oldState,\n          [resetOther]: null,\n          [e.valueFor]: e.option\n        }\n      })\n    } else {\n      setAddReceiptRecord(oldState => {\n        return {\n          ...oldState,\n          [e.target.name]: e.target.value\n        }\n      })\n    }\n  }\n\n  const getCategories = React.useCallback(async () => {\n    try {\n      const record = await fetchRecord({\n        url: 'https://app.aloropivetcenter.com/api/services',\n        method: 'GET'\n      })\n\n      const options = (record?.data?.rows || []).map(category => {\n        return {\n          label: category.displayName,\n          value: category.id\n        }\n      })\n\n      setCategories(options)\n    } catch (err) {\n      addToast({\n        message: err?.response?.data?.message || 'Error Try again later !'\n      })\n    }\n  }, [fetchRecord])\n\n  const getPackageItems = React.useCallback(async () => {\n    try {\n      setAddReceiptRecord(oldState => {\n        return {\n          ...oldState,\n          itemId: null,\n          packageId: null,\n        }\n      })\n\n      const record = await fetchRecord({\n        url: 'https://app.aloropivetcenter.com/api/packages/records/active',\n        method: 'GET',\n        params: {\n          serviceId: addReceiptRecord.categoryId?.value || null\n        }\n      })\n\n      const options = (record?.data || []).map(item => {\n        return {\n          label: item.name,\n          value: item.id,\n          price: item.price\n        }\n      })\n\n      setPackages(options)\n\n      const record2 = await fetchRecord({\n        url: 'https://app.aloropivetcenter.com/api/items/records/active',\n        method: 'GET',\n        params: {\n          serviceId: addReceiptRecord.categoryId?.value || null\n        }\n      })\n\n      const options2 = (record2?.data || []).map(item => {\n        return {\n          label: item.name,\n          value: item.id,\n          price: item.price\n        }\n      })\n\n      setItems(options2)\n    } catch (err) {\n      addToast({\n        message: err.response.data.message\n      })\n    }\n  }, [fetchRecord, addReceiptRecord?.categoryId?.value])\n\n  const submitRecord = () => {\n    if (!(addReceiptRecord.categoryId && (addReceiptRecord.itemId || addReceiptRecord.packageId))) {\n      addToast({\n        message: 'Please select item first !'\n      })\n    } else if (addReceiptRecord.quantity <= 0) {\n      addToast({\n        message: 'Quantity must not be 0 !'\n      })\n    } else {\n      dispatch({ type: 'addItemInReceipt', payload: addReceiptRecord })\n      setAddReceiptRecord({\n        categoryId: null,\n        itemId: null,\n        packageId: null,\n        quantity: 1\n      })\n      setShow(false)\n    }\n  }\n\n  React.useEffect(() => {\n    if (show) {\n      getCategories()\n    }\n  }, [show, getCategories])\n\n  React.useEffect(() => {\n    if (show && addReceiptRecord.categoryId) {\n      setItems([])\n      setPackages([])\n      getPackageItems()\n    }\n  }, [show, getPackageItems, addReceiptRecord.categoryId])\n\n  return (\n    <CModal\n      show={show}\n      onClose={() => setShow(false)}\n    >\n      <CModalHeader>\n        Add Item\n      </CModalHeader>\n      <CModalBody>\n        <CFormGroup row>\n          <CCol>\n            <CLabel className=\"pt-2\" htmlFor=\"text-category\">Category</CLabel>\n          </CCol>\n          <CCol xs=\"12\">\n            <RSelect value={addReceiptRecord.categoryId} name=\"categoryId\" options={categories} onChange={(e) => handleChange({isSelect: true, valueFor: 'categoryId', option: e})}/>\n          </CCol>\n        </CFormGroup>\n        <CFormGroup row>\n          <CCol>\n            <CLabel className=\"pt-2\" htmlFor=\"text-package\">Package</CLabel>\n          </CCol>\n          <CCol xs=\"12\">\n            <RSelect value={addReceiptRecord.packageId} name=\"packageItem\" options={packages} onChange={(e) => handleChange({isSelect: true, valueFor: 'packageId', option: e})}/>\n          </CCol>\n        </CFormGroup>\n        <CFormGroup row>\n          <CCol>\n            <CLabel className=\"pt-2\" htmlFor=\"text-package-item\">Item</CLabel>\n          </CCol>\n          <CCol xs=\"12\">\n            <RSelect value={addReceiptRecord.itemId} name=\"packageItem\" options={items} onChange={(e) => handleChange({isSelect: true, valueFor: 'itemId', option: e})}/>\n          </CCol>\n        </CFormGroup>\n        <CFormGroup row>\n          <CCol>\n            <CLabel className=\"pt-2\" htmlFor=\"text-qty\">Quantity</CLabel>\n          </CCol>\n          <CCol xs=\"12\">\n            <CInput value={addReceiptRecord.quantity} id=\"text-qty\" name=\"quantity\" placeholder=\"Enter Quantity\" type=\"number\" onChange={handleChange} />\n          </CCol>\n        </CFormGroup>\n      </CModalBody>\n      <CModalFooter>\n        <CButton color=\"danger\" onClick={() => setShow(false)}>Cancel</CButton>\n        <CButton color=\"primary\" onClick={submitRecord}>Submit</CButton>\n      </CModalFooter>\n    </CModal>\n  )\n}\n\nexport default AddReceiptForm\n","import React from 'react'\n\nimport {\n  CFormGroup,\n  CInput,\n  CLabel,\n} from '@coreui/react'\n\nconst NewVisitorsForm = ({ isVisitorRecordAdded, visitorRecord, dispatch }) => {\n  return (\n    <>\n      <CFormGroup>\n        <CLabel htmlFor=\"contact\">Phone No</CLabel>\n        <CInput disabled={isVisitorRecordAdded} value={visitorRecord.contact} name=\"contact\" onChange={(e) => dispatch({ type: 'handleChangeVisitorRecord', payload: e })} id=\"contact\" placeholder=\"Enter Phone number\" />\n      </CFormGroup>\n      <CFormGroup>\n        <CLabel htmlFor=\"name\">Visitors Name</CLabel>\n        <CInput disabled={isVisitorRecordAdded} value={visitorRecord.name} name=\"name\" onChange={(e) => dispatch({ type: 'handleChangeVisitorRecord', payload: e })} id=\"name\" placeholder=\"Enter Visitor's name\" />\n      </CFormGroup>\n      <CFormGroup>\n        <CLabel htmlFor=\"email\">Email</CLabel>\n        <CInput disabled={isVisitorRecordAdded} value={visitorRecord.email} name=\"email\" onChange={(e) => dispatch({ type: 'handleChangeVisitorRecord', payload: e })} id=\"email\" placeholder=\"Enter Visitor's email\" />\n      </CFormGroup>\n      <CFormGroup>\n        <CLabel htmlFor=\"emiratesId\">Visitors Emirates ID</CLabel>\n        <CInput disabled={isVisitorRecordAdded} value={visitorRecord.emiratesId} name=\"emiratesId\" onChange={(e) => dispatch({ type: 'handleChangeVisitorRecord', payload: e })} id=\"emiratesId\" placeholder=\"Enter Visitor's emirates id\" />\n      </CFormGroup>\n    </>\n  )\n}\n\nexport default NewVisitorsForm\n","import React from 'react'\n\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CSwitch,\n  CDataTable\n} from '@coreui/react'\n\nimport AddReceiptForm from './AddReceiptForm.js'\n\nconst receiptTableFields = [\n  'action',\n  'name',\n  'category',\n  'price',\n  'qty',\n  'total'\n]\n\nconst ReceiptForm = ({ receiptFormVisibility, showAddReceiptFormModal, receiptItems, dispatch }) => {\n  const showAddReceiptForm = (status) => {\n    dispatch({ type: 'setShowAddReceiptForm', payload: status })\n  }\n\n  const handleAction = (data) => {\n    console.log(data.payload)\n    dispatch(data)\n  }\n\n  return (\n    <>\n      <CCard>\n        <CCardHeader className=\"d-flex justify-content-between align-items-center\">\n          <div><strong>Shopping, Grooming and Others</strong></div>\n          <CSwitch\n            className=\"mr-1\"\n            color=\"dark\"\n            shape=\"pill\"\n            variant=\"opposite\"\n            value={receiptFormVisibility}\n            onChange={e => dispatch({ type: 'setReceiptFormVisibility', payload: e.target.checked })}\n          />\n        </CCardHeader>\n        {\n          receiptFormVisibility &&\n          <CCardBody>\n            <CDataTable\n              fields={receiptTableFields}\n              items={receiptItems || []}\n              footer\n              hover\n              scopedSlots={{\n                'action':\n                  (item)=>(\n                    <td className=\"px-1 py-2\">\n                    {\n                      <CButton onClick={() => handleAction({ type: 'removeItem', payload: item })} size=\"sm\">&#10006;</CButton>\n                    }\n                    </td>\n                  )\n              }}\n              overTableSlot={\n                <div className=\"text-right\">\n                  <CButton\n                    size=\"sm\"\n                    color=\"primary\"\n                    variant=\"outline\"\n                    className=\"m-2 pl-3 pr-4\"\n                    onClick={() => showAddReceiptForm(true)}\n                  >\n                      <span className=\"ml-1\">Add Item</span>\n                  </CButton>\n                </div>\n              }\n            />\n          </CCardBody>\n        }\n      </CCard>\n\n      <AddReceiptForm show={showAddReceiptFormModal} setShow={showAddReceiptForm} dispatch={dispatch}/>\n    </>\n  )\n}\n\nexport default ReceiptForm\n","import React from 'react'\nimport {\n  CCol,\n  CRow,\n} from '@coreui/react'\n\nconst DoctorReceipt = ({ doctorsReceipt }) => {\n  return (\n    <div>\n      <p className=\"font-weight-bold font-lg\">Doctor receipt form</p>\n      <CRow className=\"my-2\">\n        <CCol md=\"4\" className=\"font-weight-bold\">Pet's Name</CCol>\n        <CCol>\n          {doctorsReceipt.pet.label}\n        </CCol>\n      </CRow>\n      <CRow className=\"my-2\">\n        <CCol md=\"4\" className=\"font-weight-bold\">Check up Date</CCol>\n        <CCol>\n          {\n            doctorsReceipt.appointmentDate.getDate() + '/' +\n            (+doctorsReceipt.appointmentDate.getMonth() + 1) + '/' +\n            doctorsReceipt.appointmentDate.getFullYear()\n          }\n        </CCol>\n      </CRow>\n      <CRow className=\"my-2\">\n        <CCol md=\"4\" className=\"font-weight-bold\">Doctor's Name</CCol>\n        <CCol>--</CCol>\n      </CRow>\n      <CRow className=\"my-2\">\n        <CCol md=\"4\" className=\"font-weight-bold\">Is Follow Up ?</CCol>\n        <CCol>{\n          doctorsReceipt.isFollowUp ? 'Yes' : 'No'  \n        }</CCol>\n      </CRow>\n      <CRow className=\"my-2\">\n        <CCol md=\"4\" className=\"font-weight-bold\">Doctor's Fee</CCol>\n        <CCol>{ doctorsReceipt.fee } AED</CCol>\n      </CRow>\n    </div>\n  )\n}\n\nexport default DoctorReceipt\n","import React from 'react'\nimport {\n  CModal,\n  CModalHeader,\n  CModalFooter,\n  CModalBody,\n  CFormGroup,\n  CInput,\n  CLabel,\n  CButton,\n  CCol,\n  CSwitch,\n  CSelect\n} from '@coreui/react'\n\nimport useAxios from 'axios-hooks'\n\nimport { AppContext } from '../../../App.js'\n\nconst AddNewPetForm = ({ show, setShow, visitorId, setItems, setSelectedPet }) => {\n  const { addToast } = React.useContext(AppContext)\n  const [,\n    fetchRecord\n  ] = useAxios(\n    {\n      method: 'GET'\n    },\n    { manual: true }\n  )\n\n  const [petInfo, setPetInfo] = React.useState({\n    id: '',\n    name: '',\n    breed: '',\n    age: '',\n    dob: '',\n    color: '',\n    specie: '',\n    gender: '',\n    microchip: false\n  })\n\n  const handleChangePetInfo = (e) => {\n    let dobAge = petInfo.age\n    if (e.target.name === 'dob') {\n      const currentYear = new Date().getFullYear()\n      const inYears = new Date(e.target.value).getFullYear()\n\n      dobAge = currentYear - inYears\n    }\n    setPetInfo(oldState => {\n      return {\n        ...oldState,\n        age: dobAge,\n        [e.target.name]: e.target.value\n      }\n    })\n  }\n\n  const setIsMicroChip = (status) => {\n    setPetInfo(oldState => {\n      return {\n        ...oldState,\n        microchip: status\n      }\n    })\n  }\n\n  const storePetInfo = () => {\n    const data = {...petInfo, patientId: visitorId}\n\n    delete data.id;\n\n    fetchRecord({\n      url: 'https://app.aloropivetcenter.com/api/pets',\n      method: 'POST',\n      data\n    }).then(resp => {\n      setPetInfo(oldState => {\n        return {\n          ...oldState,\n          id: resp.data.id\n        }\n      })\n    \n\n      setItems(oldState => {\n        return [...oldState, resp.data]\n      })\n\n      setSelectedPet({\n        label: resp.data.name,\n        value: resp.data\n      })\n\n      setShow(false)\n    }).catch(err => {\n      addToast({\n        message: err.response.data.message\n      })\n    })\n  }\n\n  return (\n    <CModal\n      show={show}\n      onClose={() => setShow(false)}\n    >\n      <CModalHeader>\n        Add New Pet\n      </CModalHeader>\n      <CModalBody>\n        <CFormGroup>\n          <CLabel htmlFor=\"name\">Pet Name</CLabel>\n          <CInput value={petInfo.name} name=\"name\" onChange={handleChangePetInfo} id=\"name\" placeholder=\"Enter name\" />\n        </CFormGroup>\n        <CFormGroup>\n          <CLabel htmlFor=\"type\">Breed</CLabel>\n          <CInput value={petInfo.breed} name=\"breed\" onChange={handleChangePetInfo} id=\"type\" placeholder=\"Enter breed\" />\n        </CFormGroup>\n        <CFormGroup>\n          <CLabel htmlFor=\"age\">Pet Age ( years )</CLabel>\n          <CInput value={petInfo.age} name=\"age\" onChange={handleChangePetInfo} id=\"age\" placeholder=\"Enter age\" />\n        </CFormGroup>\n        <CFormGroup>\n          <CLabel htmlFor=\"age\">Pet DOB</CLabel>\n          <CInput value={petInfo.dob} name=\"dob\" type=\"date\" onChange={handleChangePetInfo} id=\"dob\" placeholder=\"Enter dob\" />\n        </CFormGroup>\n        <CFormGroup>\n          <CLabel htmlFor=\"color\">Pet Color</CLabel>\n          <CInput value={petInfo.color} name=\"color\" onChange={handleChangePetInfo} id=\"color\" placeholder=\"Enter color\" />\n        </CFormGroup>\n        <CFormGroup>\n          <CLabel htmlFor=\"specie\">Specie</CLabel>\n          <CInput value={petInfo.specie} name=\"specie\" onChange={handleChangePetInfo} id=\"specie\" placeholder=\"Enter specie\" />\n        </CFormGroup>\n        <CFormGroup>\n          <CLabel htmlFor=\"gender\">Sex</CLabel>\n          <CSelect \n            custom \n            name=\"gender\" \n            id=\"text-pet-type\"\n            value={petInfo.gender}\n            onChange={handleChangePetInfo}\n          >\n            <option value=\"Male\">Male</option>\n            <option value=\"Female\">Female</option>\n            <option value=\"Neutered\">Neutered</option>\n            <option value=\"Spayed\">Spayed</option>\n          </CSelect>\n        </CFormGroup>\n      </CModalBody>\n      <CFormGroup row className=\"align-items-center px-3\">\n        <CCol xs=\"3\" md=\"3\">\n          <CLabel htmlFor=\"text-microchip\" className=\"pl-1\">Microchip ?</CLabel>\n        </CCol>\n        <CCol xs=\"9\" md=\"9\">\n          <CSwitch\n            color=\"primary\"\n            name=\"microchip\"\n            value={petInfo.microchip}\n            onChange={(e) => setIsMicroChip(e.target.checked)}\n            {\n              ...({\n                variant: 'opposite',\n                shape:'pill'\n              })\n            }\n          />\n        </CCol>\n      </CFormGroup>\n      <CModalFooter>\n        <CButton onClick={() => setShow(false)} color=\"danger\">Cancel</CButton>\n        <CButton onClick={storePetInfo} color=\"primary\">Submit</CButton>\n      </CModalFooter>\n    </CModal>\n  )\n}\n\nexport default AddNewPetForm\n","import React from 'react'\nimport {\n  CModal,\n  CModalHeader,\n  CModalFooter,\n  CModalBody,\n  CFormGroup,\n  CInput,\n  CLabel,\n  CCol,\n  CSwitch,\n  CButton,\n} from '@coreui/react'\n\nimport useAxios from 'axios-hooks'\n\nimport RSelect from 'react-select';\n\nimport { AppContext } from '../../../App.js'\n\nimport AddNewPetForm from './AddNewPetForm.js'\n\nconst DoctorAppointmentForm = ({ visitorId, dispatch }) => {\n  const { addToast } = React.useContext(AppContext)\n  const [,\n    fetchRecord\n  ] = useAxios(\n    {\n      method: 'GET'\n    },\n    { manual: true }\n  )\n\n  const [showAddAppointmentModal, setShowAddAppointmentModal] = React.useState(false)\n  const [showNewPetModal, setShowNewPetModal] = React.useState(false)\n\n  \n\n  const [keyword, setKeyword] = React.useState('')\n  const [items, setItems] = React.useState([])\n\n  const [selectedPet, setSelectedPet] = React.useState(null)\n  const [fee, setFee] = React.useState('')\n  const [isFollowUp, setIsFollowUp] = React.useState(false)\n\n  const handleChange = (option) => {\n    setSelectedPet(option)\n  }\n\n  const addDoctorReceipt = () => {\n    if (!isFollowUp && +fee === 0 ) {\n      addToast({\n        message: 'Please provide fee or check follow up if it is follow up !'\n      })\n    } else {\n      dispatch({ type: 'addDoctorReceipt', payload: {\n        pet: selectedPet,\n        fee: +fee === 0 ? '0' : fee,\n        appointmentDate: new Date(),\n        isFollowUp\n      } })\n    }\n  }\n\n  React.useEffect(() => {\n    if (keyword.length > 0) {\n      fetchRecord({\n        url: 'https://app.aloropivetcenter.com/api/pets',\n        method: 'GET',\n        params: {\n          patientId: visitorId,\n          search: keyword\n        }\n      }).catch(err => {\n        addToast({\n          message: err.response.data.message\n        })\n      })\n    }\n  }, [keyword, fetchRecord, visitorId])\n\n  React.useEffect(() => {\n    fetchRecord({\n      url: `https://app.aloropivetcenter.com/api/pets/all/patients`,\n      method: 'POST',\n      data: {\n        patientId: visitorId\n      }\n    }).then(resp => {\n      setItems(resp?.data?.rows.map(o => {\n        return {\n          label: o.name,\n          value: o\n        }\n      }) || [])\n    }).catch(err => {\n      addToast({\n        message: err.response.data.message\n      })\n    })\n  }, [fetchRecord, visitorId])\n\n\n  return (\n    <div>\n      <p onClick={() => setShowAddAppointmentModal(true)} className=\"my-5 text-center\">Add Doctors check up</p>\n\n      <CModal\n        show={showAddAppointmentModal}\n        onClose={() => setShowAddAppointmentModal(false)}\n      >\n        <CModalHeader>\n          Create check up\n        </CModalHeader>\n        <CModalBody>\n          <CFormGroup row>\n            <CCol xs=\"12\">\n              <CLabel className=\"pt-1\" htmlFor=\"search\">Select Pet</CLabel>\n            </CCol>\n            <CCol xs=\"12\">\n              <RSelect name=\"search\" value={selectedPet} options={items} onInputChange={(input) => setKeyword(input)} onChange={handleChange}></RSelect>\n            </CCol>\n          </CFormGroup>\n          <div className=\"text-right\">\n            <CButton onClick={() => setShowNewPetModal(true)} size=\"sm\">Add New Pet</CButton>\n          </div>\n          <CFormGroup>\n            <CLabel htmlFor=\"fee\">Fee</CLabel>\n            <CInput value={fee} onChange={(e) => setFee(e.target.value)} name=\"fee\" id=\"fee\" placeholder=\"Enter fees\" />\n          </CFormGroup>\n          <CFormGroup row className=\"align-items-center pt-3\">\n            <CCol xs=\"3\" md=\"3\">\n              <CLabel htmlFor=\"text-description\" className=\"pl-1\">Follow Up ?</CLabel>\n            </CCol>\n            <CCol xs=\"9\" md=\"9\">\n              <CSwitch\n                color=\"primary\"\n                name=\"active\"\n                value={isFollowUp}\n                onChange={(e) => setIsFollowUp(e.target.checked)}\n                {\n                  ...({\n                    variant: 'opposite',\n                    shape:'pill'\n                  })\n                }\n              />\n            </CCol>\n          </CFormGroup>\n\n          <AddNewPetForm\n            show={showNewPetModal}\n            visitorId={visitorId}\n            setShow={setShowNewPetModal}\n            setItems={setItems}\n            setSelectedPet={setSelectedPet}\n          />\n        </CModalBody>\n        <CModalFooter>\n          <CButton color=\"danger\" onClick={() => setShowAddAppointmentModal(false)}>Cancel</CButton>\n          <CButton color=\"primary\" onClick={addDoctorReceipt}>Submit</CButton>\n        </CModalFooter>\n      </CModal>\n    </div>\n  )\n}\n\nexport default DoctorAppointmentForm\n","import React from 'react'\n\nimport {\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CSwitch,\n} from '@coreui/react'\n\nimport DoctorReceipt from './DoctorReceipt.js'\nimport DoctorAppointmentForm from './DoctorAppointmentForm.js'\n\nconst DoctorsForm = ({ visitorId, doctorFormVisibility, isDoctorVisitAdded, doctorsReceipt, dispatch }) => {\n  return (\n    <>\n      <CCard>\n        <CCardHeader className=\"d-flex justify-content-between align-items-center\">\n          <div><strong>Doctor's Visit</strong></div>\n          <CSwitch\n            className=\"mr-1\"\n            color=\"dark\"\n            shape=\"pill\"\n            variant=\"opposite\"\n            value={doctorFormVisibility}\n            onChange={(e) => dispatch({ type: 'setDoctorFormVisibility', payload: e.target.checked })}\n          />\n        </CCardHeader>\n        {\n          doctorFormVisibility &&\n          <CCardBody>\n            {\n              isDoctorVisitAdded ?\n              <DoctorReceipt doctorsReceipt={doctorsReceipt} /> :\n              <DoctorAppointmentForm visitorId={visitorId} dispatch={dispatch} />\n            }\n          </CCardBody> \n        }\n      </CCard>\n    </>\n  )\n}\n\nexport default DoctorsForm\n","const addVisitorReducer = (state, { type, payload }) => {\n  switch (type) {\n    case 'setKeyword':\n      return {\n        ...state,\n        keyword: payload\n      }\n    case 'setItems': \n      return {\n        ...state,\n        items: payload\n      }\n    case 'setIsVisitorRecordAdded':\n      return {\n        ...state,\n        isVisitorRecordAdded: payload\n      }\n    case 'setVisitorsId':\n      return {\n        ...state,\n        visitorsId: payload\n      }\n    case 'setVisitorsRecord':\n      return {\n        ...state,\n        visitorRecord: { ...payload }\n      }\n    case 'handleChangeVisitorRecord':\n      return {\n        ...state,\n        visitorRecord: {\n          ...state.visitorRecord,\n          [payload.target.name]: payload.target.value \n        }\n      }\n    case 'setReceiptFormVisibility':\n      return {\n        ...state,\n        receiptFormVisibility: payload\n      }\n    case 'setShowAddReceiptForm':\n      return {\n        ...state,\n        showAddReceiptForm: payload\n      }\n    case 'setDoctorFormVisibility':\n      return {\n        ...state,\n        doctorFormVisibility: payload\n      }\n    case 'setIsDoctorVisitAdded':\n      return {\n        ...state,\n        isDoctorVisitAdded: payload\n      }\n    case 'addItemInReceipt':\n      let isItemId = true\n      let itemIdx = -1\n\n      if (payload.packageId?.value) isItemId = false\n\n      if (isItemId) {\n        itemIdx = state.receiptItems.findIndex(i => i.id === payload.itemId?.value)\n      } else {\n        itemIdx = state.receiptItems.findIndex(i => i.packageId === payload.packageId?.value)\n      }\n\n      if (itemIdx === -1) {\n        const item = {\n          id: payload.itemId?.value || null,\n          packageId: payload.packageId?.value || null,\n          name: payload.itemId?.label || payload.packageId?.label,\n          category: payload.categoryId.label,\n          price: payload.itemId?.price || payload.packageId?.price,\n          qty: payload.quantity,\n          total: payload.quantity * (payload.itemId?.price || payload.packageId?.price)\n        }\n  \n        return {\n          ...state,\n          receiptItems: [...state.receiptItems, item]\n        }\n      } else {\n        return {\n          ...state,\n          receiptItems: state.receiptItems.map((i, idx) => {\n            if (idx === itemIdx) {\n              console.log(i, payload)\n              const qty = +i.qty + +payload.quantity\n              return {\n                ...i,\n                qty,\n                total: qty * i.price\n              }\n            }\n\n            return i\n          })\n        }\n      }\n    case 'removeItem':\n      return {\n        ...state,\n        receiptItems: state.receiptItems.filter(i => {\n          if (payload.id) {\n            return i.id !== payload.id\n          } else {\n            return i.packageId !== payload.packageId\n          }\n        })\n      }\n    case 'addDoctorReceipt':\n      const doctorsReceipt = {\n        pet: payload.pet,\n        fee: payload.fee,\n        appointmentDate: payload.appointmentDate,\n        isFollowUp: payload.isFollowUp\n      }\n\n      return {\n        ...state,\n        isDoctorVisitAdded: true,\n        doctorsReceipt: doctorsReceipt\n      }\n    case 'resetForm':\n      return {\n        ...state,\n        keyword: '',\n        items: [],\n        isVisitorRecordAdded: false,\n        visitorsId: null,\n        visitorRecord: {\n          emiratesId: '',\n          name: '',\n          email: '',\n          contact: ''\n        },\n\n        receiptFormVisibility: false,\n        showAddReceiptForm: false,\n\n        doctorFormVisibility: false,\n        isDoctorVisitAdded: false,\n\n        receiptItems: [],\n        doctorsReceipt: {\n          pet: null,\n          fee: '',\n          appointmentDate: null,\n          isFollowUp: false\n        }\n      }\n    default: \n      return state\n  }\n}\n\nexport default addVisitorReducer","const initialState = {\n  keyword: '',\n  items: [],\n  isVisitorRecordAdded: false,\n  visitorsId: null,\n  visitorRecord: {\n    emiratesId: '',\n    name: '',\n    email: '',\n    contact: ''\n  },\n\n  receiptFormVisibility: false,\n  showAddReceiptForm: false,\n\n  doctorFormVisibility: false,\n  isDoctorVisitAdded: false,\n\n  receiptItems: [],\n  doctorsReceipt: {\n    pet: null,\n    fee: '',\n    appointmentDate: null,\n    isFollowUp: false\n  }\n}\n\nexport default initialState","import React, { useContext } from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CFormGroup,\n  CLabel,\n  CRow,\n} from '@coreui/react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport RSelect from 'react-select';\n\nimport useAxios from 'axios-hooks'\n\nimport NewVisitorsForm from './NewVisitorsForm.js'\nimport ReceiptForm from './ReceiptForm/ReceiptForm.js'\nimport DoctorsForm from './DoctorsForm/DoctorsForm.js'\n\nimport reducer from './addVisitorReducer'\nimport initialState from './addVisitorState'\n\nimport { AppContext } from '../../App.js'\n\nconst AddVisitor = () => {\n  const history = useHistory()\n  const { addToast } = useContext(AppContext)\n\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const [,\n    fetchRecord\n  ] = useAxios(\n    {\n      method: 'GET'\n    },\n    { manual: true }\n  )\n\n  const createNewVisitor = () => {\n    fetchRecord({\n      url: 'https://app.aloropivetcenter.com/api/patients',\n      method: 'POST',\n      data: {\n        ...state.visitorRecord\n      }\n    }).then(resp => {\n      dispatch({ type: 'setVisitorsId', payload: resp.data.id })\n      dispatch({ type: 'setIsVisitorRecordAdded', payload: true })\n    }).catch(err => {\n      addToast({\n        message: err.response.data.message\n      })\n    })\n  }\n\n  const storeNewOrder = () => {\n    const data = {\n      patientId: state.visitorsId,\n      appointment: state.isDoctorVisitAdded,\n      checkUpPrice: +state.doctorsReceipt.fee,\n      description: 'Order Receipt For Shopping.',\n      followUp: state.doctorsReceipt.isFollowUp,\n      items: state.receiptItems.filter(item => item.id !== null).map(item => {\n        return {\n          itemId: item.id,\n          quantity: item.qty\n        }\n      }),\n      packages: state.receiptItems.filter(item => item.packageId !== null).map(item => {\n        return {\n          packageId: item.packageId,\n          quantity: item.qty\n        }\n      })\n    }\n\n    fetchRecord({\n      url: 'https://app.aloropivetcenter.com/api/orders',\n      method: 'POST',\n      data\n    }).then(resp => {\n      dispatch({ type: 'resetForm', payload: null })\n      history.push('/visitors')\n    })\n  }\n\n  const handleSubmit = () => {\n    if (!state.isVisitorRecordAdded) {\n      createNewVisitor()\n    } else {\n      storeNewOrder()\n    }\n  }\n\n  const resetForm = () => {\n    dispatch({ type: 'setVisitorsRecord', payload: {\n      emiratesId: '',\n      name: '',\n      email: '',\n      contact: ''\n    }})\n    dispatch({ type: 'setVisitorsId', payload: null })\n    dispatch({ type: 'setIsVisitorRecordAdded', payload: false })\n  }\n\n  const handleUserChange = ({ value }) => {\n    dispatch({ type: 'setVisitorsRecord', payload: {\n      emiratesId: value.emiratesId,\n      name: value.name,\n      email: value.email,\n      contact: value.contact\n    }})\n    dispatch({ type: 'setVisitorsId', payload: value.id })\n    dispatch({ type: 'setIsVisitorRecordAdded', payload: true })\n    dispatch({ type: 'setKeyword', payload: {} })\n  }\n\n  React.useEffect(() => {\n    if (state.keyword.length > 0) {\n      fetchRecord({\n        url: 'https://app.aloropivetcenter.com/api/patients',\n        params: {\n          search: state.keyword\n        }\n      }).then(resp => {\n        dispatch({ type: 'setItems', payload: (resp?.data?.rows || []).map((item, idx) => {\n          return {\n            label: (idx + 1) + ': ' + item.name + ' - ' + item.contact,\n            value: item,\n          }\n        })})\n      })\n    }\n  }, [state.keyword, fetchRecord])\n\n  return (\n    <>\n      <CRow>\n        <CCol xs=\"12\" sm=\"12\">\n          <CCard>\n            <CCardHeader>\n              Visitor\n              <small> Form</small>\n            </CCardHeader>\n            <CCardBody>\n              <CFormGroup row>\n                <CCol xs=\"12\">\n                  <CLabel className=\"pt-1\" htmlFor=\"search\">Search</CLabel>\n                </CCol>\n                <CCol xs=\"12\">\n                  <RSelect name=\"search\" options={state.items} onInputChange={(input) => dispatch({ type: 'setKeyword', payload: input })} onChange={handleUserChange}></RSelect>\n                </CCol>\n              </CFormGroup>\n              <CCard>\n                <CCardBody>\n                  <NewVisitorsForm \n                    isVisitorRecordAdded={state.isVisitorRecordAdded}\n                    visitorRecord={state.visitorRecord}\n                    dispatch={dispatch}\n                  />\n                </CCardBody>\n              </CCard>\n\n              {\n                state.isVisitorRecordAdded &&\n                <CRow>\n                  <CCol sm=\"6\">\n                    <ReceiptForm\n                      receiptFormVisibility={state.receiptFormVisibility}\n                      showAddReceiptFormModal={state.showAddReceiptForm}\n                      receiptItems={state.receiptItems}\n                      dispatch={dispatch}\n                    />\n                  </CCol>\n                  <CCol sm=\"6\">\n                    <DoctorsForm\n                      visitorId={state.visitorsId}\n                      doctorFormVisibility={state.doctorFormVisibility}\n                      isDoctorVisitAdded={state.isDoctorVisitAdded}\n                      doctorsReceipt={state.doctorsReceipt}\n                      dispatch={dispatch}\n                    />\n                  </CCol>\n                </CRow>\n              }\n            </CCardBody>\n            <CCardFooter>\n              <div className=\"d-flex\">\n                <div className=\"w-50 ml-auto text-right\">\n                  <CButton onClick={resetForm} className=\"w-25 mr-1\" color=\"danger\">Clear</CButton>\n                  <CButton onClick={handleSubmit} className=\"w-25\" color=\"primary\">Submit</CButton>\n                </div>\n              </div>\n            </CCardFooter>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  )\n}\n\nexport default AddVisitor\n"],"sourceRoot":""}
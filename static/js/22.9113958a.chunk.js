(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{731:function(e,t,c){"use strict";c.r(t);var a=c(174),s=c(53),n=c(66),r=c(1),l=c(674),o=c(173),i=c.p+"static/media/logo.b0e961c2.jpg",j=c(72),d=c(54),b=c(18);t.default=function(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),c=t[0],u=t[1],m=Object(r.useContext)(o.a),O=m.setToken,h=m.setRole,p=Object(l.a)({url:"https://app.aloropivetcenter.com/api/authentication/login",method:"POST"},{manual:!0}),x=Object(n.a)(p,2),g=x[0],f=g.data,w=g.loading,v=x[1],y=Object(r.useState)({username:"",password:""}),k=Object(n.a)(y,2),N=k[0],C=k[1],S=function(e){C((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(a.a)({},e.target.name,e.target.value))}))};return Object(r.useEffect)((function(){if(f&&f.token){var e=f.token.split(".")[1],t=JSON.parse(atob(e));localStorage.setItem("tokenExpiry",t.exp),h(t.role.name),O(f.token)}}),[f,h,O]),Object(b.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(b.jsx)(j.n,{children:Object(b.jsx)(j.U,{className:"justify-content-center",children:Object(b.jsx)(j.l,{md:"8",children:Object(b.jsxs)(j.j,{children:[Object(b.jsx)(j.g,{className:"p-4",children:Object(b.jsx)(j.h,{children:Object(b.jsxs)(j.w,{children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)("p",{className:"text-muted",children:"Sign In to your Aloropi account"}),c&&Object(b.jsx)(j.a,{color:"danger",children:c}),Object(b.jsxs)(j.D,{className:"mb-3",children:[Object(b.jsx)(j.F,{children:Object(b.jsx)(j.G,{children:Object(b.jsx)(d.a,{name:"cil-user"})})}),Object(b.jsx)(j.C,{name:"username",type:"text",placeholder:"Username",autoComplete:"username",value:N.username,onChange:S})]}),Object(b.jsxs)(j.D,{className:"mb-4",children:[Object(b.jsx)(j.F,{children:Object(b.jsx)(j.G,{children:Object(b.jsx)(d.a,{name:"cil-lock-locked"})})}),Object(b.jsx)(j.C,{name:"password",type:"password",placeholder:"Password",autoComplete:"current-password",value:N.password,onChange:S})]}),Object(b.jsx)(j.U,{children:Object(b.jsx)(j.l,{xs:"6",children:Object(b.jsx)(j.f,{onClick:function(e){w||v({data:Object(s.a)({},N)}).catch((function(e){var t,c;u((null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.message)||"Error occured try again later !")}))},color:"primary",className:"px-4",children:w?"Loading":"Login"})})})]})})}),Object(b.jsx)(j.g,{className:"text-white bg-primary d-md-down-none",style:{width:"44%"},children:Object(b.jsx)(j.h,{className:"text-center",children:Object(b.jsx)("img",{src:i,alt:"Vet",style:{width:"100%"}})})})]})})})})})}}}]);
//# sourceMappingURL=22.9113958a.chunk.js.map
(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{722:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var c=function(e){return new Date(e).toLocaleString()},a={convert:function(e){return e.constructor===Date?e:e.constructor===Array?new Date(e[0],e[1],e[2]):e.constructor===Number||e.constructor===String?new Date(e):"object"===typeof e?new Date(e.year,e.month,e.date):NaN},compare:function(e,t){return isFinite(e=this.convert(e).valueOf())&&isFinite(t=this.convert(t).valueOf())?(e>t)-(e<t):NaN},inRange:function(e,t,n){return isFinite(e=this.convert(e).valueOf())&&isFinite(t=this.convert(t).valueOf())&&isFinite(n=this.convert(n).valueOf())?t<=e&&e<=n:NaN}},r=function(e){return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}},724:function(e,t,n){"use strict";n(1);var c=n(89),a=n(22);t.a=function(e){var t=e.keyword,n=void 0===t?"":t,r=e.changeKeyword,i=void 0===r?null:r,s=e.children;return Object(a.jsxs)(c.T,{className:"align-items-center justify-content-between pb-2",children:[Object(a.jsx)(c.l,{sm:"4",children:Object(a.jsx)(c.x,{className:"mb-0",children:Object(a.jsx)(c.B,{type:"text",name:"nf-text",placeholder:"Search Here..",autoComplete:"off",value:n,onChange:i,onKeyPress:i})})}),Object(a.jsx)(c.l,{sm:"4",className:"d-flex justify-content-end",children:s})]})}},856:function(e,t,n){"use strict";n.r(t);var c=n(82),a=n(1),r=n.n(a),i=n(720),s=n(724),o=n(195),l=n(63),d=n(89),j=n(719),u=n(22),h=function(e){var t=e.show,n=e.setShow,a=e.refetch,s=e.petTypeId,h=e.setEditId,b=r.a.useState({name:"",description:"",active:!0}),m=Object(c.a)(b,2),O=m[0],p=m[1],x=Object(i.a)({url:j.a+"/pet-types",method:"POST"},{manual:!0}),f=Object(c.a)(x,2),v=f[0].loading,g=f[1],y=function(e){p((function(t){return"active"===e.target.name?Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.target.name,e.target.checked)):Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.target.name,e.target.value))}))};return r.a.useEffect((function(){s&&t&&g({url:j.a+"/pet-types/".concat(s),method:"GET"}).then((function(e){p({name:e.data.name,description:e.data.description,active:e.data.active})}))}),[s,g,t]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(d.K,{show:t,onClose:function(){return n(!1)},children:[Object(u.jsx)(d.N,{closeButton:!0,children:"Add Pet Type"}),Object(u.jsx)(d.L,{children:v?Object(u.jsx)("div",{className:"py-5 text-center",children:"Loading Details ..."}):Object(u.jsx)(d.T,{children:Object(u.jsxs)(d.l,{className:"px-5 pt-4",children:[Object(u.jsxs)(d.x,{row:!0,children:[Object(u.jsx)(d.l,{md:"3",children:Object(u.jsx)(d.G,{className:"pt-1",htmlFor:"text-name",children:"Name"})}),Object(u.jsx)(d.l,{xs:"12",md:"9",children:Object(u.jsx)(d.B,{id:"text-name",name:"name",value:O.name,onChange:y,placeholder:"Enter Name for Pet type"})})]}),Object(u.jsxs)(d.x,{row:!0,children:[Object(u.jsx)(d.l,{md:"3",children:Object(u.jsx)(d.G,{className:"pt-1",htmlFor:"text-description",children:"Description"})}),Object(u.jsx)(d.l,{xs:"12",md:"9",children:Object(u.jsx)(d.fb,{id:"text-description",name:"description",value:O.description,onChange:y,placeholder:"Enter Description ..."})})]}),Object(u.jsxs)(d.x,{row:!0,children:[Object(u.jsx)(d.l,{xs:"3",md:"3",children:Object(u.jsx)(d.G,{htmlFor:"text-description",children:"Active"})}),Object(u.jsx)(d.l,{xs:"9",md:"9",children:Object(u.jsx)(d.eb,{color:"primary",name:"active",checked:O.active,onChange:y,variant:"opposite",shape:"pill"})})]})]})})}),Object(u.jsxs)(d.M,{children:[Object(u.jsx)(d.f,{color:"secondary",onClick:function(){return n(!1),p({name:"",description:"",active:!0}),void h(null)},children:"Cancel"}),Object(u.jsx)(d.f,{onClick:function(){if(!v){var e={data:Object(l.a)({},O)};s&&(e.url="PUBLIC_API + '/pet-types/".concat(s),e.method="PUT"),g(e).then((function(e){n(!1),p({name:"",description:"",active:!0}),h(null),a()}))}},className:"ml-1",color:"primary",children:v?"Loading":"Confirm"})]})]})})},b=n(722),m=n(194),O=["name",{key:"createdAt",label:"Registered"},"description","actions"];t.default=function(){var e=Object(a.useContext)(m.a),t=(e.addToast,e.role),n=r.a.useState(!1),o=Object(c.a)(n,2),l=o[0],p=o[1],x=r.a.useState(""),f=Object(c.a)(x,2),v=f[0],g=f[1],y=r.a.useState(1),N=Object(c.a)(y,2),w=N[0],C=N[1],T=r.a.useState(1),k=Object(c.a)(T,2),S=k[0],P=k[1],E=r.a.useState(null),F=Object(c.a)(E,2),D=F[0],A=F[1],I=Object(i.a)({url:j.a+"/pet-types",method:"GET",params:{pageNo:S}},{manual:!0}),L=Object(c.a)(I,2),G=L[0],B=G.data,K=G.loading,R=G.error,z=L[1],J=r.a.useCallback((function(){z().then((function(e){C(e.data.totalPages)}))}),[z]);return r.a.useEffect((function(){J()}),[J]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.T,{children:Object(u.jsx)(d.l,{xs:"12",lg:"12",children:Object(u.jsxs)(d.g,{children:[Object(u.jsx)(d.k,{children:"Pet Types"}),Object(u.jsx)(d.h,{children:Object(u.jsx)(d.p,{items:K||R?[]:(null===B||void 0===B?void 0:B.rows)||[],fields:O.filter((function(e){return"actions"!=e||"receptionist"!=t})),striped:!0,itemsPerPage:10,loading:K,overTableSlot:Object(u.jsx)(s.a,{keyword:v,changeKeyword:function(e){"Enter"===e.key?z({params:{search:v}}):g(e.target.value)},children:Object(u.jsx)(d.f,{color:"primary",variant:"outline",className:"m-2 pl-3 pr-4",onClick:function(){return p(!0)},children:Object(u.jsx)("span",{className:"ml-1",children:"Add Pet Type"})})}),underTableSlot:Object(u.jsx)(d.R,{activePage:S,pages:w,onActivePageChange:function(e){return P(e)}}),scopedSlots:{createdAt:function(e){return Object(u.jsx)("td",{children:Object(b.c)(e.createdAt)})},actions:function(e){return Object(u.jsx)("td",{children:"receptionist"!==t&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.f,{onClick:function(){return t=e.id,A(t),void p(!0);var t},color:"primary",size:"sm",className:"mr-1",children:"Edit"}),Object(u.jsx)(d.f,{onClick:function(){return t=e.id,void z({url:j.a+"/pet-types/".concat(t),method:"DELETE"}).then((function(){J()}));var t},color:"danger",size:"sm",children:"Delete"})]})})}}})})]})})}),Object(u.jsx)(h,{show:l,setShow:p,refetch:z,petTypeId:D,setEditId:A})]})}}}]);
//# sourceMappingURL=14.d7bc7822.chunk.js.map
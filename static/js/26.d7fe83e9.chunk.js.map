{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","views/visitorDetails/PetRecords.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","fields","label","PetRecords","id","React","useState","petRecord","setPetRecord","useAxios","url","PUBLIC_API","method","manual","data","loading","fetch","deletePet","showPetDetails","pet","removePet","e","petId","a","stopPropagation","patientId","useEffect","className","md","items","rows","striped","pagination","onRowClick","item","scopedSlots","onClick","color","size","style","name","overTableSlot","row","sm","col","htmlFor","readOnly","placeholder","age","breed","specie","gender","checked","microchip","variant","shape","microchipNumber"],"mappings":"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","file":"static/js/26.d7fe83e9.chunk.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { CCard, CCardBody, CCardHeader, CRow, CCol, CDataTable, CFormGroup, CLabel, CInput, CSwitch, CButton } from '@coreui/react'\n\nimport React from 'react'\nimport useAxios from 'axios-hooks'\n\nimport { PUBLIC_API } from '../../config/index'\nimport CIcon from '@coreui/icons-react'\n\nconst fields = [\n  'id',\n  'name',\n  'color',\n  'specie',\n  {\n    key: 'remove',\n    label: ''\n  }\n]\n\nconst PetRecords = ({ id }) => {\n  const [petRecord, setPetRecord] = React.useState(null)\n  const [{ data, loading, error }, fetch] = useAxios(\n    {\n      url: PUBLIC_API + '/pets/all/patients',\n      method: 'POST',\n    },\n    {\n      manual: true\n    }\n  )\n\n  const [deleteResponse, deletePet] = useAxios({\n    method: 'DELETE',\n  }, {\n    manual: true\n  })\n\n  const showPetDetails = (pet) => {\n    setPetRecord(pet)\n  }\n\n  const removePet = async (e, petId) => {\n    e.stopPropagation()\n\n    await deletePet({\n      url: PUBLIC_API + 'pets/' + petId\n    })\n\n    if (petRecord?.id == petId) showPetDetails(null)\n\n    if (id) {\n      fetch({\n        data: {\n          patientId: id\n        }\n      })\n    }\n  }\n\n  React.useEffect(() => {\n    if (id) {\n      fetch({\n        data: {\n          patientId: id\n        }\n      })\n    }\n\n    return () => {\n      setPetRecord(null)\n    }\n  }, [id, fetch])\n\n  return (\n    <CRow>\n      <CCol>\n        <CCard>\n          <CCardHeader>Visitor Pets</CCardHeader>\n          <CCardBody>\n          <CRow className=\"py-2\">\n            <CCol md=\"4\">\n              <CCard>\n                <CCardBody>\n                  <CDataTable\n                    items={loading ? [] : (error ? [] : data?.rows || [])}\n                    fields={fields}\n                    striped\n                    pagination\n                    loading={loading}\n                    onRowClick={(item) => showPetDetails(item)}\n                    scopedSlots={{\n                      'remove': (item) => (\n                        <td>\n                          <CButton onClick={(e) => removePet(e, item.id)} color='danger' size='sm' style={{ color: '#fff' }}>\n                            <CIcon name=\"cil-trash\" size=\"sm\" />\n                          </CButton>\n                        </td>\n                      )\n                    }}\n                    overTableSlot={\n                      <p>All Pets</p>\n                    }\n                  />\n                </CCardBody>\n              </CCard>\n            </CCol>\n            {\n              !petRecord ?\n              <CCol>\n                <p className=\"text-center py-5\"><em>Please Select a pet to view complete Details !</em></p>\n              </CCol> :\n              <CCol md=\"8\">\n                <CCard>\n                  <CCardBody>\n                    <CFormGroup row className=\"justify-content-left pt-3\">\n                      <CLabel className=\"text-right\" sm=\"3\" col htmlFor=\"input-emirates-id\">Pet Name</CLabel>\n                      <CCol sm=\"7\">\n                        <CInput value={petRecord.name} readOnly  id=\"input-emirates-id\" name=\"emiratesId\" placeholder=\"Emirates ID\" />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row className=\"justify-content-left\">\n                      <CLabel className=\"text-right\" sm=\"3\" col htmlFor=\"input-emirates-id\">Color</CLabel>\n                      <CCol sm=\"7\">\n                        <CInput value={petRecord.color} readOnly  id=\"input-emirates-id\" name=\"emiratesId\" placeholder=\"Emirates ID\" />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row className=\"justify-content-left\">\n                      <CLabel className=\"text-right\" sm=\"3\" col htmlFor=\"input-emirates-id\">Age</CLabel>\n                      <CCol sm=\"7\">\n                        <CInput value={petRecord.age} readOnly  id=\"input-emirates-id\" name=\"emiratesId\" placeholder=\"Emirates ID\" />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row className=\"justify-content-left\">\n                      <CLabel className=\"text-right\" sm=\"3\" col htmlFor=\"input-emirates-id\">Breed</CLabel>\n                      <CCol sm=\"7\">\n                        <CInput value={petRecord.breed} readOnly  id=\"input-emirates-id\" name=\"emiratesId\" placeholder=\"Emirates ID\" />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row className=\"justify-content-left\">\n                      <CLabel className=\"text-right\" sm=\"3\" col htmlFor=\"input-emirates-id\">Specie</CLabel>\n                      <CCol sm=\"7\">\n                        <CInput value={petRecord.specie} readOnly  id=\"input-emirates-id\" name=\"emiratesId\" placeholder=\"Emirates ID\" />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row className=\"justify-content-left\">\n                      <CLabel className=\"text-right\" sm=\"3\" col htmlFor=\"input-emirates-id\">Sex</CLabel>\n                      <CCol sm=\"7\">\n                        <CInput value={petRecord.gender || 'none selected !'} readOnly  id=\"input-emirates-id\" name=\"emiratesId\" placeholder=\"Emirates ID\" />\n                      </CCol>\n                    </CFormGroup>\n                    <CFormGroup row className=\"justify-content-left\">\n                      <CLabel className=\"text-right\" sm=\"3\" col htmlFor=\"input-emirates-id\">Microchip ?</CLabel>\n                      <CCol sm=\"7\">\n                        <CSwitch\n                          className=\"pt-1\"\n                          color=\"primary\"\n                          name=\"active\"\n                          checked={petRecord.microchip}\n                          readOnly\n                          {\n                            ...({\n                              variant: 'opposite',\n                              shape:'pill'\n                            })\n                          }\n                        />\n                      </CCol>\n                    </CFormGroup>\n                    {\n                      petRecord.microchip && petRecord.microchipNumber &&\n                      <CFormGroup row className=\"justify-content-left\">\n                        <CLabel className=\"text-right\" sm=\"3\" col htmlFor=\"input-emirates-id\">Microchip number</CLabel>\n                        <CCol sm=\"7\">\n                          <CInput value={petRecord.microchipNumber || ''} readOnly  id=\"input-microchipNumber\" name=\"microchipNumber\" placeholder=\"\" />\n                        </CCol>\n                      </CFormGroup>\n                    }\n                  </CCardBody>\n                </CCard>\n              </CCol>\n            }\n          </CRow>\n        </CCardBody>\n      </CCard>\n    </CCol>\n  </CRow>\n  )\n}\n\nexport default PetRecords\n"],"sourceRoot":""}
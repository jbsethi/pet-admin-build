{"version":3,"sources":["utils/dateUtils.js","views/treatment/NewPrescription.js","views/treatment/PetHistory.js","views/treatment/PetTab.js","views/treatment/PetTabs.js","views/treatment/Treatment.js"],"names":["formatDate","date","Date","toISOString","slice","replace","withRouter","match","show","setShow","details","refetch","React","useState","recommendations","setRecommendations","selectedRecomendation","setSelectedRecomendation","treatments","setTreatments","useAxios","url","method","manual","fetch","statement","prescription","description","followUp","treatmentRecord","setTreatmentRecord","handleChange","e","oldState","target","name","value","useEffect","Recomendations","map","o","i","addNewRecommendation","idx","itemId","label","Item","recommendationElem","r","className","md","disabled","options","find","onChange","option","handleSelectChange","onClick","removeRecommendation","size","serviceId","filter","op","length","then","resp","data","id","onClose","htmlFor","placeholder","color","type","orderId","params","slug","split","petId","recomendations","PetHistory","role","useContext","AppContext","setDetails","items","setItems","loading","rows","fields","onRowClick","item","viewDetails","striped","scopedSlots","createdAt","status","pet","to","pathname","PetTabs","pets","Treatment","history","useHistory","patientId","path","exact","render","component"],"mappings":"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","file":"static/js/19.c843556c.chunk.js","sourcesContent":["export const formatDate = (date) => {\n  return (new Date(date)).toISOString().slice(0, 19).replace(/-/g, \"/\").replace(\"T\", \" \");\n}","import { CModal, CModalBody, CModalFooter, CModalHeader, CFormGroup, CLabel, CInput, CButton, CTextarea, CRow, CCol } from '@coreui/react'\nimport React from 'react'\n\nimport RSelect from 'react-select';\n\nimport { withRouter } from 'react-router-dom'\n\nimport useAxios from 'axios-hooks'\n\nconst NewPrescription = ({ match, show, setShow, details, refetch }) => {\n  const [recommendations, setRecommendations] = React.useState([])\n  const [selectedRecomendation, setSelectedRecomendation] = React.useState([])\n  const [treatments, setTreatments] = React.useState([])\n\n  const [, fetch] = useAxios(\n    {\n      url: 'https://app.aloropivetcenter.com/api/treatments',\n      method: 'POST',\n    },\n    {\n      manual: true\n    }\n  )\n\n  const [treatmentRecord, setTreatmentRecord] = React.useState({\n    statement: '',\n    prescription: '',\n    description: '',\n    followUp: ''\n  })\n\n  const handleChange = (e) => {\n    setTreatmentRecord(oldState => {\n      return {\n        ...oldState,\n        [e.target.name]: e.target.value\n      }\n    })\n  }\n\n  const handleSelectChange = (option, i) => {\n    setSelectedRecomendation((oldState => {\n      return [...oldState, { idx: i, ...option }]\n    }))\n  }\n\n  const addNewPrescription = () => {\n    if (!details) {\n      let followUp = treatmentRecord?.followUp || null\n\n      const data = {\n        ...treatmentRecord,\n        orderId: match.params.slug.split('-')[1],\n        petId: match.params.petId,\n        followUp ,\n        recomendations: selectedRecomendation.map(r => r.value)\n      }\n\n      fetch({\n        data\n      }).then(resp => {\n        refetch()\n        setTreatmentRecord({\n          statement: '',\n          prescription: '',\n          description: '',\n          followUp: ''\n        })\n        setShow(false)\n      })\n    }\n  }\n\n  React.useEffect(() => {\n    if (show && details) {\n      setTreatmentRecord({\n        statement: details.statement,\n        prescription: details.prescription,\n        description: details.description,\n        followUp: ''\n      })\n\n      setSelectedRecomendation(() => {\n        return details.Recomendations.map((o, i) => {\n          addNewRecommendation()\n          return {\n            idx: i,\n            value: o.itemId,\n            label: o.Item.name\n          }\n        })\n      })\n    }\n\n    return () => {\n      setRecommendations([])\n      setSelectedRecomendation([])\n    }\n  }, [details, show])\n\n  const recommendationElem = recommendations.map((r, i) => {\n    return (\n      <CRow key={i} className=\"align-items-center px-3 py-2\">\n        <CCol md=\"1\">{i+1}</CCol>\n        <CCol>\n          <RSelect disabled={details} options={treatments} value={selectedRecomendation.find(o => o.idx === i)} onChange={(option) => handleSelectChange(option, i)}></RSelect>\n        </CCol>\n        <CCol md=\"2\">\n          {\n            !details &&\n            <CButton onClick={() => removeRecommendation(i)} size=\"sm\">Remove</CButton>\n          }\n        </CCol>\n      </CRow>\n    )\n  })\n\n  const addNewRecommendation = () => {\n    setRecommendations((oldState) => {\n      return [...oldState, {\n        serviceId: ''\n      }]\n    })\n  }\n\n  const removeRecommendation = (i) => {\n    setRecommendations((oldState) => {\n      return oldState.filter((r, idx) => idx !== i)\n    })\n\n    setSelectedRecomendation((oldState => {\n      return oldState.filter(op => op.idx !== i)\n    }))\n  }\n\n  React.useEffect(() => {\n    if (show && treatments.length === 0) {\n      fetch({\n        url: 'https://app.aloropivetcenter.com/api/items/records/all?serviceId=3',\n        method: 'GET'\n      }).then(resp => {\n        setTreatments(resp.data.map(r => {\n          return {\n            label: r.name,\n            value: r.id\n          }\n        }))\n      })\n    }\n  }, [show, treatments, fetch])\n\n  return (\n    <CModal show={show} onClose={() => setShow(false)}>\n      <CModalHeader>\n        {\n          details ?\n          'Treatment Details' :\n          'New Prescription'\n        }\n      </CModalHeader>\n      <CModalBody>\n      <CFormGroup>\n        <CLabel htmlFor=\"Statement\">Statement</CLabel>\n        <CInput disabled={details} value={treatmentRecord.statement} name=\"statement\" onChange={handleChange} id=\"statement\" placeholder=\"Enter Statement\" />\n      </CFormGroup>\n      <CFormGroup>\n        <CLabel htmlFor=\"prescription\">Prescription</CLabel>\n        <CInput disabled={details} value={treatmentRecord.prescription} name=\"prescription\" onChange={handleChange} id=\"prescription\" placeholder=\"Enter Prescription\" />\n      </CFormGroup>\n      \n      <CFormGroup className=\"py-3 m-0\">\n        <CRow className=\"px-3 justify-content-between align-items-center\">\n          <CLabel htmlFor=\"recomendation\">Recomendation</CLabel>\n          {\n            !details &&\n            <CButton onClick={addNewRecommendation} size=\"sm\" color=\"primary\">Add Recommendation</CButton>\n          }\n        </CRow>\n        {\n          recommendationElem.length > 0 &&\n          <section className=\"py-2\">\n            {recommendationElem}\n          </section>\n        }\n        {/* <CRow className=\"align-items-center px-3 py-4\">\n          <CCol md=\"1\">1</CCol>\n          <CCol>\n            <CInput></CInput>\n          </CCol>\n          <CCol md=\"2\">\n            <CButton size=\"sm\">Remove</CButton>\n          </CCol>\n        </CRow> */}\n        {/* <CInput disabled={details} value={treatmentRecord.recomendation} name=\"recomendation\" onChange={handleChange} id=\"recomendation\" placeholder=\"Enter Recomendation\" /> */}\n      </CFormGroup>\n\n      <CFormGroup>\n        <CLabel htmlFor=\"description\">Description</CLabel>\n        <CTextarea \n          disabled={details}\n          value={treatmentRecord.description}\n          onChange={handleChange}\n          name=\"description\"\n          id=\"description\" \n          placeholder=\"Enter Description\"\n        />\n      </CFormGroup>\n      <CFormGroup>\n        <CLabel htmlFor=\"followUp\">Follow up ?</CLabel>\n        <CInput disabled={details} type=\"date\" value={treatmentRecord.followUp} name=\"followUp\" onChange={handleChange} id=\"followUp\" placeholder=\"Enter follow Up day\" />\n      </CFormGroup>\n      </CModalBody>\n      <CModalFooter>\n        <CButton color=\"danger\" onClick={() => setShow(false)}>Cancel</CButton>\n        {\n          !details &&\n          <CButton onClick={addNewPrescription} color=\"primary\">Submit</CButton>\n        }\n      </CModalFooter>\n    </CModal>\n  )\n}\n\nexport default withRouter(NewPrescription)\n","import { CButton, CCard, CCardBody, CCardHeader, CDataTable } from '@coreui/react'\nimport React from 'react'\n\nimport useAxios from 'axios-hooks'\n\nimport NewPrescription from './NewPrescription'\nimport { formatDate } from '../../utils/dateUtils'\nimport { AppContext } from '../../App.js'\n\nconst PetHistory = ({ match }) => {\n  const { role } = React.useContext(AppContext)\n  const [details, setDetails] = React.useState(null)\n  const [show, setShow] = React.useState(false)\n  const [items, setItems] = React.useState([])\n\n  const [{ loading }, fetch] = useAxios(\n    {\n      url: 'https://app.aloropivetcenter.com/api/treatments/all/pets',\n      method: 'POST',\n    },\n    {\n      manual: true\n    }\n  )\n\n  const refetch = () => {\n    fetch({\n      data: {\n        petId: match.params.petId\n      }\n    }).then(resp => {\n      setItems(resp?.data?.rows || [])\n    })\n  }\n\n  const viewDetails = (item) => {\n    setDetails(item)\n    setShow(true)\n  }\n\n  const toggleModal = (status) => {\n    setShow(status)\n    if (!status) {\n      setDetails(null)\n    }\n  }\n  \n  React.useEffect(() => {\n    fetch({\n      data: {\n        petId: match.params.petId\n      }\n    }).then(resp => {\n      setItems(resp?.data?.rows || [])\n    })\n  }, [fetch, match.params.petId])\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <div className=\"font-lg\">Pet Previous History</div>\n          {\n            role === 'doctor' &&\n            <CButton color=\"primary\" onClick={() => setShow(true)}>\n              Add Prescription for Pet\n            </CButton>\n          }\n        </div>\n      </CCardHeader>\n      <CCardBody className=\"p-0\">\n        <CDataTable\n          loading={loading}\n          fields={['statement', 'description', 'createdAt']}\n          items={items}\n          onRowClick={(item) => viewDetails(item)}\n          striped\n          scopedSlots={{\n            'createdAt':\n              (item) => (\n                <td>\n                  {formatDate(item.createdAt)}\n                </td>\n              )\n          }}\n        ></CDataTable>\n      </CCardBody>\n\n      <NewPrescription  show={show} setShow={toggleModal} refetch={refetch} details={details}/>\n    </CCard>\n  )\n}\n\nexport default PetHistory\n","import { CCard, CCardBody } from '@coreui/react'\nimport React from 'react'\n\nimport { NavLink } from 'react-router-dom'\n\nimport { formatDate } from '../../utils/dateUtils'\n\nimport { withRouter } from 'react-router-dom'\n\nconst PetTab = ({ match, pet }) => {\n  return (\n    <NavLink to={{\n      pathname: `/check-up/${match.params.id}/${match.params.slug}/${pet.id}`\n    }}>\n      <CCard className=\"m-0\">\n        <CCardBody className=\"p-3\">\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"m-0\">{pet.name}</p>\n            <p className=\"m-0\">{formatDate(pet.createdAt)}</p>\n          </div>\n        </CCardBody>\n      </CCard>\n    </NavLink>\n  )\n}\n\nexport default withRouter(PetTab)\n","import React from 'react'\nimport PetTab from './PetTab'\n\nconst PetTabs = ({ pets }) => {\n  return pets.map(pet => (\n    <PetTab key={pet.id} pet={pet}></PetTab>\n  ))\n}\n\nexport default PetTabs\n","import {  CCard, CCardBody, CCardHeader, CCol, CRow } from '@coreui/react'\nimport React from 'react'\nimport { Route, useHistory } from 'react-router-dom'\nimport PetHistory from './PetHistory'\nimport PetTabs from './PetTabs'\n\nimport useAxios from 'axios-hooks'\n\nconst Treatment = ({ match }) => {\n  const history = useHistory()\n  const [items, setItems] = React.useState([])\n  const [{ loading }, fetch] = useAxios(\n    {\n      url: 'https://app.aloropivetcenter.com/api/pets/all/patients',\n      method: 'POST',\n    },\n    {\n      manual: true\n    }\n  )\n\n  React.useEffect(() => {\n    fetch({\n      data: {\n        patientId: match.params.id\n      }\n    }).then((resp) => {\n      setItems(resp?.data?.rows.map(item => {\n        return {\n          id: item.id,\n          name: item.name,\n          createdAt: item.createdAt\n        }\n      }))\n\n      if (resp?.data?.rows?.length  > 0)\n        history.replace(`/check-up/${match.params.id}/${match.params.slug}/${resp?.data?.rows[0].id}`)\n    })\n\n  }, [fetch, match.params.id, match.params.slug, history])\n\n\n  return (\n    <>\n      <CRow>\n        <CCol md=\"4\">\n          <CCard>\n            <CCardHeader>\n              <p className=\"font-lg m-0\">Pets</p>\n            </CCardHeader>\n            <CCardBody className=\"p-0\">\n              {\n                loading ?\n                <p className=\"pt-3 text-center\">Loading ...</p> :\n                <PetTabs pets={items} ></PetTabs>\n              }\n            </CCardBody>\n          </CCard>\n        </CCol>\n        <CCol>\n          <Route path=\"/check-up/:id/:slug\" exact render={() => (\n            <p className=\"p-5 text-center\">Please select Pet to view details.</p>\n          )} />\n          <Route path=\"/check-up/:id/:slug/:petId\" component={PetHistory} />\n        </CCol>\n      </CRow>\n    </>\n  )\n}\n\nexport default Treatment\n"],"sourceRoot":""}
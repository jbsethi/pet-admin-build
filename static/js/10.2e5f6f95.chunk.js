(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[10],{675:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var n=function(e){return new Date(e).toISOString().slice(0,19).replace(/-/g,"/").replace("T"," ")}},676:function(e,t,c){"use strict";c(1);var n=c(72),a=c(18);t.a=function(e){var t=e.keyword,c=void 0===t?"":t,r=e.changeKeyword,i=void 0===r?null:r,s=e.children;return Object(a.jsxs)(n.T,{className:"align-items-center justify-content-between",children:[Object(a.jsx)(n.l,{sm:"4",children:Object(a.jsx)(n.x,{className:"mb-0",children:Object(a.jsx)(n.B,{type:"text",name:"nf-text",placeholder:"Search Here..",autoComplete:"off",value:c,onChange:i,onKeyPress:i})})}),Object(a.jsx)(n.l,{sm:"4",className:"d-flex justify-content-end",children:s})]})}},732:function(e,t,c){"use strict";c.r(t);var n=c(66),a=c(1),r=c.n(a),i=c(674),s=c(676),o=c(174),l=c(53),d=c(72),j=c(18),p=function(e){var t=e.show,c=e.setShow,a=e.refetch,s=e.petTypeId,p=e.setEditId,h=r.a.useState({name:"",description:"",active:!0}),u=Object(n.a)(h,2),m=u[0],b=u[1],O=Object(i.a)({url:"https://app.aloropivetcenter.com/api/pet-types",method:"POST"},{manual:!0}),x=Object(n.a)(O,2),f=x[0].loading,v=x[1],g=function(e){b((function(t){return"active"===e.target.name?Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.target.name,e.target.checked)):Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.target.name,e.target.value))}))};return r.a.useEffect((function(){s&&t&&v({url:"https://app.aloropivetcenter.com/api/pet-types/".concat(s),method:"GET"}).then((function(e){b({name:e.data.name,description:e.data.description,active:e.data.active})}))}),[s,v,t]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(d.K,{show:t,onClose:function(){return c(!1)},children:[Object(j.jsx)(d.N,{closeButton:!0,children:"Add Pet Type"}),Object(j.jsx)(d.L,{children:f?Object(j.jsx)("div",{className:"py-5 text-center",children:"Loading Details ..."}):Object(j.jsx)(d.T,{children:Object(j.jsxs)(d.l,{className:"px-5 pt-4",children:[Object(j.jsxs)(d.x,{row:!0,children:[Object(j.jsx)(d.l,{md:"3",children:Object(j.jsx)(d.G,{className:"pt-1",htmlFor:"text-name",children:"Name"})}),Object(j.jsx)(d.l,{xs:"12",md:"9",children:Object(j.jsx)(d.B,{id:"text-name",name:"name",value:m.name,onChange:g,placeholder:"Enter Name for Pet type"})})]}),Object(j.jsxs)(d.x,{row:!0,children:[Object(j.jsx)(d.l,{md:"3",children:Object(j.jsx)(d.G,{className:"pt-1",htmlFor:"text-description",children:"Description"})}),Object(j.jsx)(d.l,{xs:"12",md:"9",children:Object(j.jsx)(d.fb,{id:"text-description",name:"description",value:m.description,onChange:g,placeholder:"Enter Description ..."})})]}),Object(j.jsxs)(d.x,{row:!0,children:[Object(j.jsx)(d.l,{xs:"3",md:"3",children:Object(j.jsx)(d.G,{htmlFor:"text-description",children:"Active"})}),Object(j.jsx)(d.l,{xs:"9",md:"9",children:Object(j.jsx)(d.eb,{color:"primary",name:"active",checked:m.active,onChange:g,variant:"opposite",shape:"pill"})})]})]})})}),Object(j.jsxs)(d.M,{children:[Object(j.jsx)(d.f,{color:"secondary",onClick:function(){return c(!1),b({name:"",description:"",active:!0}),void p(null)},children:"Cancel"}),Object(j.jsx)(d.f,{onClick:function(){if(!f){var e={data:Object(l.a)({},m)};s&&(e.url="https://app.aloropivetcenter.com/api/pet-types/".concat(s),e.method="PUT"),v(e).then((function(e){c(!1),b({name:"",description:"",active:!0}),p(null),a()}))}},className:"ml-1",color:"primary",children:f?"Loading":"Confirm"})]})]})})},h=c(675),u=c(173),m=["name",{key:"createdAt",label:"Registered"},"description","actions"];t.default=function(){var e=Object(a.useContext)(u.a),t=(e.addToast,e.role),c=r.a.useState(!1),o=Object(n.a)(c,2),l=o[0],b=o[1],O=r.a.useState(""),x=Object(n.a)(O,2),f=x[0],v=x[1],g=r.a.useState(1),y=Object(n.a)(g,2),w=y[0],T=y[1],C=r.a.useState(1),k=Object(n.a)(C,2),N=k[0],S=k[1],E=r.a.useState(null),P=Object(n.a)(E,2),A=P[0],D=P[1],F=Object(i.a)({url:"https://app.aloropivetcenter.com/api/pet-types",method:"GET",params:{pageNo:N}},{manual:!0}),G=Object(n.a)(F,2),I=G[0],K=I.data,L=I.loading,B=I.error,z=G[1],J=r.a.useCallback((function(){z().then((function(e){T(e.data.totalPages)}))}),[z]);return r.a.useEffect((function(){J()}),[J]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.T,{children:Object(j.jsx)(d.l,{xs:"12",lg:"12",children:Object(j.jsxs)(d.g,{children:[Object(j.jsx)(d.k,{children:"Pet Types"}),Object(j.jsx)(d.h,{children:Object(j.jsx)(d.p,{items:L||B?[]:(null===K||void 0===K?void 0:K.rows)||[],fields:m,striped:!0,itemsPerPage:10,loading:L,overTableSlot:Object(j.jsx)(s.a,{keyword:f,changeKeyword:function(e){"Enter"===e.key?z({params:{search:f}}):v(e.target.value)},children:Object(j.jsx)(d.f,{color:"primary",variant:"outline",className:"m-2 pl-3 pr-4",onClick:function(){return b(!0)},children:Object(j.jsx)("span",{className:"ml-1",children:"Add Pet Type"})})}),underTableSlot:Object(j.jsx)(d.R,{activePage:N,pages:w,onActivePageChange:function(e){return S(e)}}),scopedSlots:{createdAt:function(e){return Object(j.jsx)("td",{children:Object(h.a)(e.createdAt)})},actions:function(e){return Object(j.jsxs)("td",{children:[Object(j.jsx)(d.f,{onClick:function(){return t=e.id,D(t),void b(!0);var t},color:"primary",size:"sm",className:"mr-1",children:"Edit"}),"receptionist"!==t&&Object(j.jsx)(d.f,{onClick:function(){return t=e.id,void z({url:"https://app.aloropivetcenter.com/api/pet-types/".concat(t),method:"DELETE"}).then((function(){J()}));var t},color:"danger",size:"sm",children:"Delete"})]})}}})})]})})}),Object(j.jsx)(p,{show:l,setShow:b,refetch:z,petTypeId:A,setEditId:D})]})}}}]);
//# sourceMappingURL=10.2e5f6f95.chunk.js.map
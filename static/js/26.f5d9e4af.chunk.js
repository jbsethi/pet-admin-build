(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[26],{713:function(e,t,n){"use strict";n.r(t);var r=n(679),c=n.n(r),a=n(678),i=n(66),o=n(1),l=n.n(o),s=n(675),d=n(24),u=n(676),j=n(674),b=n(72),p=n(173),h=n(690),f=n(18),v=["id",{key:"createdAt",label:"Registered"},{key:"checkUpPrice",label:"Doctor's Fee"},{key:"price",label:"Total Bill"}];t.default=Object(d.i)((function(e){var t=e.history,n=e.id,r=Object(o.useContext)(p.a),d=(r.role,r.addToast),O=l.a.useState(!1),x=Object(i.a)(O,2),k=x[0],g=x[1],m=l.a.useState(null),w=Object(i.a)(m,2),S=w[0],A=w[1],y=l.a.useState(null),P=Object(i.a)(y,2),T=P[0],D=P[1],E=Object(s.a)({url:j.a+"/orders/patient",method:"GET"},{manual:!0}),C=Object(i.a)(E,2),U=C[0],J=U.data,R=U.loading,B=U.error,F=C[1],G=l.a.useCallback(function(){var e=Object(a.a)(c.a.mark((function e(t){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F({url:j.a+"/orders/patient/".concat(n)});case 3:r=e.sent,D(r.data.Patient),t&&I(!0,r.data.rows.find((function(e){return e.id===t}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d({message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Something went wrong !"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[F]);l.a.useEffect((function(){if(n){var e,r,c=(null===t||void 0===t||null===(e=t.location)||void 0===e||null===(r=e.state)||void 0===r?void 0:r.orderId)||null;G(c)}}),[n,G]);var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log(t),A(t),g(e)};return Object(f.jsxs)(b.T,{children:[Object(f.jsx)(b.l,{children:Object(f.jsxs)(b.g,{children:[Object(f.jsx)(b.k,{children:"Visitor Orders"}),Object(f.jsx)(b.h,{children:Object(f.jsx)(b.p,{items:R||B?[]:(null===J||void 0===J?void 0:J.rows)||[],fields:v,striped:!0,pagination:!0,loading:R,onRowClick:function(e){return I(!0,e)},overTableSlot:Object(f.jsx)("p",{children:"All Pets"}),scopedSlots:{createdAt:function(e){return Object(f.jsx)("td",{children:Object(u.b)(e.createdAt)})},checkUpPrice:function(e){return Object(f.jsx)("td",{children:"".concat(e.checkUpPrice," AED")})},price:function(e){return Object(f.jsx)("td",{children:"".concat(e.price," AED")})}}})})]})}),Object(f.jsx)(h.a,{show:k,setShow:I,order:S,patientData:T,refetch:G})]})}))}}]);
//# sourceMappingURL=26.f5d9e4af.chunk.js.map
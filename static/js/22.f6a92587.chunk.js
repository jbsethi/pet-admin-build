(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{719:function(e,t,c){"use strict";c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return n}));var a="https://test.aloropivetcenter.com/api/",n="https://app.aloropivetcenter.com/public/"},855:function(e,t,c){"use strict";c.r(t);var a=c(195),n=c(63),s=c(82),r=c(1),o=c(720),l=c(194),i=c.p+"static/media/logo.b0e961c2.jpg",j=c(89),d=c(65),u=c(719),b=c(22);t.default=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),c=t[0],m=t[1],p=Object(r.useContext)(l.a),O=p.setToken,h=p.setRole,x=Object(o.a)({url:u.a+"/authentication/login",method:"POST"},{manual:!0}),g=Object(s.a)(x,2),f=g[0],v=f.data,w=f.loading,y=g[1],k=Object(r.useState)({username:"",password:""}),N=Object(s.a)(k,2),C=N[0],S=N[1],E=function(e){S((function(t){return Object(n.a)(Object(n.a)({},t),{},Object(a.a)({},e.target.name,e.target.value))}))};return Object(r.useEffect)((function(){if(v&&v.token){var e=v.token.split(".")[1],t=JSON.parse(atob(e));localStorage.setItem("tokenExpiry",t.exp),h(t.role.name),O(v.token)}}),[v,h,O]),Object(b.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(b.jsx)(j.n,{children:Object(b.jsx)(j.T,{className:"justify-content-center",children:Object(b.jsx)(j.l,{md:"8",children:Object(b.jsxs)(j.j,{children:[Object(b.jsx)(j.g,{className:"p-4",children:Object(b.jsx)(j.h,{children:Object(b.jsxs)(j.w,{children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)("p",{className:"text-muted",children:"Sign In to your Aloropi account"}),c&&Object(b.jsx)(j.a,{color:"danger",children:c}),Object(b.jsxs)(j.C,{className:"mb-3",children:[Object(b.jsx)(j.E,{children:Object(b.jsx)(j.F,{children:Object(b.jsx)(d.a,{name:"cil-user"})})}),Object(b.jsx)(j.B,{name:"username",type:"text",placeholder:"Username",autoComplete:"username",value:C.username,onChange:E})]}),Object(b.jsxs)(j.C,{className:"mb-4",children:[Object(b.jsx)(j.E,{children:Object(b.jsx)(j.F,{children:Object(b.jsx)(d.a,{name:"cil-lock-locked"})})}),Object(b.jsx)(j.B,{name:"password",type:"password",placeholder:"Password",autoComplete:"current-password",value:C.password,onChange:E})]}),Object(b.jsx)(j.T,{children:Object(b.jsx)(j.l,{xs:"6",children:Object(b.jsx)(j.f,{onClick:function(e){w||y({data:Object(n.a)({},C)}).catch((function(e){var t,c;m((null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.message)||"Error occured try again later !")}))},color:"primary",className:"px-4",children:w?"Loading":"Login"})})})]})})}),Object(b.jsx)(j.g,{className:"text-white bg-primary d-md-down-none",style:{width:"44%"},children:Object(b.jsx)(j.h,{className:"text-center",children:Object(b.jsx)("img",{src:i,alt:"Vet",style:{width:"100%"}})})})]})})})})})}}}]);
//# sourceMappingURL=22.f6a92587.chunk.js.map
{"version":3,"sources":["utils/dateUtils.js","views/treatment/Treatments.js"],"names":["formatDate","date","Date","toISOString","slice","replace","fields","key","label","Visitors","match","history","useHistory","React","useState","items","setItems","useAxios","url","method","manual","loading","fetch","useEffect","params","appointment","checkUp","then","resp","data","rows","map","row","orderId","id","Patient","xs","lg","striped","itemsPerPage","pagination","onRowClick","item","push","scopedSlots","createdAt"],"mappings":"6KAAA,kCAAO,IAAMA,EAAa,SAACC,GACzB,OAAQ,IAAIC,KAAKD,GAAOE,cAAcC,MAAM,EAAG,IAAIC,QAAQ,KAAM,KAAKA,QAAQ,IAAK,O,sHCe/EC,EAAS,CACX,OACA,CACEC,IAAK,YACLC,MAAO,cAET,QACA,WAoEWC,UAjEE,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACZC,EAAUC,cADc,EAEJC,IAAMC,SAAS,IAFX,mBAEvBC,EAFuB,KAEhBC,EAFgB,OAIDC,YAC3B,CACEC,IAAK,8CACLC,OAAQ,OAEV,CACEC,QAAQ,IAVkB,mBAIrBC,EAJqB,KAIrBA,QAAWC,EAJU,KA+B9B,OAjBAT,IAAMU,WAAU,WACdD,EAAM,CACJE,OAAQ,CACNC,YAAa,EACbC,SAAS,KAEVC,MAAK,SAAAC,GACNZ,EAASY,EAAKC,KAAKC,KAAKC,KAAI,SAAAC,GAC1B,OAAO,aACLC,QAASD,EAAIE,IACVF,EAAIG,kBAIZ,CAACb,EAAOZ,EAAMc,OAAOU,KAItB,mCACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAME,GAAG,KAAKC,GAAG,KAAjB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,uBAGA,cAAC,IAAD,UACA,cAAC,IAAD,CACEtB,MAAOM,EAAU,GAAKN,EACtBT,OAAQA,EACRgC,SAAO,EACPC,aAAc,EACdC,YAAU,EACVnB,QAASA,EACToB,WAAY,SAACC,GAAD,OAAU/B,EAAQgC,KAAR,oBAA0BD,EAAKR,GAA/B,sBAA+CQ,EAAKT,WAC1EW,YAAa,CACX,UACE,SAACF,GAAD,OACE,6BACG1C,YAAW0C,EAAKG","file":"static/js/20.3ecb0d1c.chunk.js","sourcesContent":["export const formatDate = (date) => {\n  return (new Date(date)).toISOString().slice(0, 19).replace(/-/g, \"/\").replace(\"T\", \" \");\n}","import React from 'react'\nimport useAxios from 'axios-hooks'\nimport { useHistory } from \"react-router-dom\";\n\nimport { formatDate } from '../../utils/dateUtils'\n\nimport {\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n} from '@coreui/react'\n\n\nconst fields = [\n    'name',\n    {\n      key: 'createdAt',\n      label: 'Registered'\n    },\n    'email',\n    'contact'\n  ]\n\nconst Visitors = ({ match }) => {\n  const history = useHistory()\n  const [items, setItems] = React.useState([])\n\n  const [{ loading }, fetch] = useAxios(\n    {\n      url: 'https://app.aloropivetcenter.com/api/orders',\n      method: 'GET',\n    },\n    {\n      manual: true\n    }\n  )\n\n  React.useEffect(() => {\n    fetch({\n      params: {\n        appointment: 1,\n        checkUp: false\n      }\n    }).then(resp => {\n      setItems(resp.data.rows.map(row => {\n        return {\n          orderId: row.id,\n          ...row.Patient\n        }\n      }))\n    })\n  }, [fetch, match.params.id])\n  \n\n  return (\n    <>\n      <CRow>\n        <CCol xs=\"12\" lg=\"12\">\n          <CCard>\n            <CCardHeader>\n              Visitors\n            </CCardHeader>\n            <CCardBody>\n            <CDataTable\n              items={loading ? [] : items}\n              fields={fields}\n              striped\n              itemsPerPage={5}\n              pagination\n              loading={loading}\n              onRowClick={(item) => history.push(`/check-up/${item.id}/treatment-${item.orderId}`)}\n              scopedSlots={{\n                'createdAt':\n                  (item) => (\n                    <td>\n                      {formatDate(item.createdAt)}\n                    </td>\n                  )\n              }}\n            />\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  )\n}\n\nexport default Visitors\n"],"sourceRoot":""}
(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[5],{676:function(e,t,n){"use strict";function r(e,t,n,r,o,i,c){try{var a=e[i](c),l=a.value}catch(s){return void n(s)}a.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var c=e.apply(t,n);function a(e){r(c,o,i,a,l,"next",e)}function l(e){r(c,o,i,a,l,"throw",e)}a(void 0)}))}}n.d(t,"a",(function(){return o}))},681:function(e,t,n){var r,o;"undefined"!=typeof self&&self,e.exports=(r=n(1),o=n(57),function(){"use strict";var e={629:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useReactToPrint=t.PrintContextConsumer=void 0;var r=n(655),o=n(297),i=n(268),c=Object.prototype.hasOwnProperty.call(o,"createContext"),a=Object.prototype.hasOwnProperty.call(o,"useMemo")&&Object.prototype.hasOwnProperty.call(o,"useCallback"),l=c?o.createContext({}):null;t.PrintContextConsumer=l?l.Consumer:function(){return null};var s={copyStyles:!0,pageStyle:"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }",removeAfterPrint:!1,suppressErrors:!1},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPrint=function(e){var n=t.props,r=n.onAfterPrint,o=n.onPrintError,i=n.print,c=n.suppressErrors,a=n.documentTitle;setTimeout((function(){if(e.contentWindow){if(e.contentWindow.focus(),i)i(e).then(t.handleRemoveIframe).catch((function(e){o?o("print",e):c||console.error("An error was thrown by the specified `print` function",e)}));else if(e.contentWindow.print){var n=document.title;a&&(document.title=a),e.contentWindow.print(),a&&(document.title=n),r&&r()}else c||console.error("Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes.");t.handleRemoveIframe()}else c||console.error("Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/")}),500)},t.triggerPrint=function(e){var n=t.props,r=n.onBeforePrint,o=n.onPrintError;if(r){var i=r();i&&"function"==typeof i.then?i.then((function(){t.startPrint(e)})).catch((function(e){o&&o("onBeforePrint",e)})):t.startPrint(e)}else t.startPrint(e)},t.handleClick=function(){var e=t.props,n=e.onBeforeGetContent,r=e.onPrintError;if(n){var o=n();o&&"function"==typeof o.then?o.then(t.handlePrint).catch((function(e){r&&r("onBeforeGetContent",e)})):t.handlePrint()}else t.handlePrint()},t.handlePrint=function(){var e=t.props,n=e.bodyClass,o=e.content,c=e.copyStyles,a=e.fonts,l=e.pageStyle,s=e.suppressErrors,d=o();if(void 0!==d)if(null!==d){var u=document.createElement("iframe");u.style.position="absolute",u.style.top="-1000px",u.style.left="-1000px",u.id="printWindow",u.title="Print Window";var p=i.findDOMNode(d);if(p){var f=p instanceof Text,h=document.querySelectorAll("link[rel='stylesheet']"),b=f?[]:p.querySelectorAll("img");t.linkTotal=h.length+b.length,t.linksLoaded=[],t.linksErrored=[],t.fontsLoaded=[],t.fontsErrored=[];var j=function(e,n){n?t.linksLoaded.push(e):(s||console.error('"react-to-print" was unable to load a linked node. It may be invalid. "react-to-print" will continue attempting to print the page. The linked node that errored was:',e),t.linksErrored.push(e)),t.linksLoaded.length+t.linksErrored.length+t.fontsLoaded.length+t.fontsErrored.length===t.linkTotal&&t.triggerPrint(u)};u.onload=function(){var e,o,i,d;u.onload=null;var h=u.contentDocument||(null===(o=u.contentWindow)||void 0===o?void 0:o.document);if(h){h.body.appendChild(p.cloneNode(!0)),a&&((null===(i=u.contentDocument)||void 0===i?void 0:i.fonts)&&(null===(d=u.contentWindow)||void 0===d?void 0:d.FontFace)?a.forEach((function(e){var n=new FontFace(e.family,e.source);u.contentDocument.fonts.add(n),n.loaded.then((function(e){t.fontsLoaded.push(e)})).catch((function(e){t.fontsErrored.push(n),s||console.error('"react-to-print" was unable to load a font. "react-to-print" will continue attempting to print the page. The font that failed to load is:',n,"The error from loading the font is:",e)}))})):s||console.error('"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API'));var m="function"==typeof l?l():l;if("string"!=typeof m)s||console.error('"react-to-print" expected a "string" from `pageStyle` but received "'+typeof m+'". Styles from `pageStyle` will not be applied.');else{var v=h.createElement("style");v.appendChild(h.createTextNode(m)),h.head.appendChild(v)}if(n&&(e=h.body.classList).add.apply(e,r.__spread(n.split(" "))),!f){for(var O=h.querySelectorAll("canvas"),y=p.querySelectorAll("canvas"),x=0,g=O.length;x<g;++x){var w=(G=O[x]).getContext("2d");w&&w.drawImage(y[x],0,0)}for(x=0;x<b.length;x++){var P=b[x],_=P.getAttribute("src");if(_){var S=new Image;S.onload=j.bind(null,P,!0),S.onerror=j.bind(null,P,!1),S.src=_}else s||console.warn('"react-to-print" encountered an <img> tag with an empty "src" attribute. It will not attempt to pre-load it. The <img> is:',P)}var k="input",C=p.querySelectorAll(k),I=h.querySelectorAll(k);for(x=0;x<C.length;x++)I[x].value=C[x].value;var T="input[type=checkbox],input[type=radio]",E=p.querySelectorAll(T),N=h.querySelectorAll(T);for(x=0;x<E.length;x++)N[x].checked=E[x].checked;var R="select",A=p.querySelectorAll(R),q=h.querySelectorAll(R);for(x=0;x<A.length;x++)q[x].value=A[x].value}if(c)for(var F=document.querySelectorAll("style, link[rel='stylesheet']"),D=(x=0,F.length);x<D;++x){var G;if("STYLE"===(G=F[x]).tagName){var L=h.createElement(G.tagName),U=G.sheet;if(U){for(var M="",W=0,B=U.cssRules.length;W<B;++W)"string"==typeof U.cssRules[W].cssText&&(M+=U.cssRules[W].cssText+"\r\n");L.setAttribute("id","react-to-print-"+x),L.appendChild(h.createTextNode(M)),h.head.appendChild(L)}}else if(G.getAttribute("href")){L=h.createElement(G.tagName),W=0;for(var H=G.attributes.length;W<H;++W){var V=G.attributes[W];V&&L.setAttribute(V.nodeName,V.nodeValue||"")}L.onload=j.bind(null,L,!0),L.onerror=j.bind(null,L,!1),h.head.appendChild(L)}else s||console.warn('"react-to-print" encountered a <link> tag with an empty "href" attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:',G),j(G,!0)}}0!==t.linkTotal&&c||t.triggerPrint(u)},t.handleRemoveIframe(!0),document.body.appendChild(u)}else s||console.error('"react-to-print" could not locate the DOM node corresponding with the `content` prop')}else s||console.error('There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.');else s||console.error('For "react-to-print" to work only Class based components can be printed.')},t.handleRemoveIframe=function(e){var n=t.props.removeAfterPrint;if(e||n){var r=document.getElementById("printWindow");r&&document.body.removeChild(r)}},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.suppressErrors,r=e.trigger;if(r)return o.cloneElement(r(),{onClick:this.handleClick});if(!l)return n||console.error('"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"'),null;var i={handlePrint:this.handleClick};return o.createElement(l.Provider,{value:i},t)},t.defaultProps=s,t}(o.Component);t.default=d,t.useReactToPrint=a?function(e){var t=o.useMemo((function(){return new d(r.__assign(r.__assign({},s),e))}),[e]);return o.useCallback((function(){return t.handleClick()}),[t])}:function(e){e.suppressErrors||console.warn('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')}},655:function(e,t,n){n.r(t),n.d(t,{__extends:function(){return o},__assign:function(){return i},__rest:function(){return c},__decorate:function(){return a},__param:function(){return l},__metadata:function(){return s},__awaiter:function(){return d},__generator:function(){return u},__exportStar:function(){return p},__values:function(){return f},__read:function(){return h},__spread:function(){return b},__spreadArrays:function(){return j},__await:function(){return m},__asyncGenerator:function(){return v},__asyncDelegator:function(){return O},__asyncValues:function(){return y},__makeTemplateObject:function(){return x},__importStar:function(){return g},__importDefault:function(){return w},__classPrivateFieldGet:function(){return P},__classPrivateFieldSet:function(){return _}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c}function l(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}l((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function j(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],c=0,a=i.length;c<a;c++,o++)r[o]=i[c];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(l,s):d(i[0][2],n)}catch(e){d(i[0][3],e)}var n}function l(e){a("next",e)}function s(e){a("throw",e)}function d(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function O(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},297:function(e){e.exports=r},268:function(e){e.exports=o}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(629)}())},711:function(e,t,n){},712:function(e,t,n){e.exports={printable:"report_printable__erK34"}},713:function(e,t,n){},714:function(e,t,n){"use strict";n.r(t);var r=n(66),o=n(72),i=n(1),c=n.n(i),a=n(24),l=n(681),s=n(674),d=n(677),u=n.n(d),p=n(676),f=n(175),h=n(174),b=n(53),j=n(678),m=n(173),v=n(18),O=Object(a.i)((function(e){var t=e.match,n=e.show,l=e.setShow,d=e.details,O=(e.refetch,Object(a.g)()),y=Object(i.useContext)(m.a),x=y.role,g=y.addToast,w=c.a.useState(!1),P=Object(r.a)(w,2),_=P[0],S=P[1],k=c.a.useState(null),C=Object(r.a)(k,2),I=C[0],T=C[1],E=c.a.useState([]),N=Object(r.a)(E,2),R=N[0],A=N[1],q=c.a.useState([]),F=Object(r.a)(q,2),D=F[0],G=F[1],L=Object(s.a)({url:"https://app.aloropivetcenter.com/api/treatments",method:"POST"},{manual:!0}),U=Object(r.a)(L,2)[1],M=c.a.useState({statement:"",prescription:"",description:"",followUp:""}),W=Object(r.a)(M,2),B=W[0],H=W[1],V=function(e){H((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(h.a)({},e.target.name,e.target.value))}))},z=c.a.useCallback(Object(p.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),!n||!d){e.next=8;break}return e.next=4,U({url:"https://app.aloropivetcenter.com/api/orders/".concat(d.orderId),method:"GET"});case 4:t=e.sent,T(t.data),H({statement:d.statement,prescription:d.prescription,description:d.description,followUp:""}),A((function(){return d.Recomendations.map((function(e,n){var r,o=!!((null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.Items)||[]).find((function(t){return t.itemId===e.itemId}));return{idx:n,value:e.itemId,label:e.Item.name,isAdded:o}}))}));case 8:if(!n||0!==D.length){e.next=13;break}return e.next=11,U({url:"https://app.aloropivetcenter.com/api/items/records/all?serviceId=3",method:"GET"});case 11:r=e.sent,G(r.data.map((function(e){return{label:e.name,value:e.id}})));case 13:S(!1);case 14:case"end":return e.stop()}}),e)}))),[D,n,d]);c.a.useEffect((function(){return z(),function(){T(null),A([])}}),[z]);var J=R.map((function(e,t){return Object(v.jsxs)(o.T,{className:"align-items-center px-3 py-2",children:[Object(v.jsx)(o.k,{md:"1",children:t+1}),Object(v.jsx)(o.k,{children:Object(v.jsx)(j.a,{disabled:d,options:D,value:R[t],onChange:function(e){return function(e,t){A((function(n){return[].concat(Object(f.a)(n),[Object(b.a)({idx:t},e)])}))}(e,t)}})}),Object(v.jsx)(o.k,{md:"2",children:d&&!R[t].isAdded&&"doctor"!==x&&Object(v.jsx)(o.e,{color:"primary",size:"sm",onClick:function(){return function(e){var t={patientId:I.patientId,appointment:"1"===I.appointment,checkUpPrice:I.checkUpPrice,description:I.description,items:I.Items.map((function(e){return{itemId:e.itemId,quantity:e.quantity}})).concat([{itemId:e.value,quantity:1}]),packages:I.Packages.map((function(e){return{id:e.id,quantity:e.quantity}})),followUp:I.followUp};U({url:"https://app.aloropivetcenter.com/api/orders/".concat(d.orderId),method:"PUT",data:t}).then((function(e){z()})).catch((function(e){g({message:e.response.data.message})}))}(R[t])},children:"Add"})})]},t)}));return Object(v.jsxs)(o.K,{show:n,onClose:function(){return l(!1)},children:[Object(v.jsx)(o.N,{children:d?"Treatment Details":"New Prescription"}),Object(v.jsx)(o.L,{children:_?Object(v.jsx)("p",{className:"pt-3 text-center",children:"Loading Please wait !"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(o.w,{children:[Object(v.jsx)(o.G,{htmlFor:"Statement",children:"Statement"}),Object(v.jsx)(o.B,{disabled:d,value:B.statement,name:"statement",onChange:V,id:"statement",placeholder:"Enter Statement"})]}),Object(v.jsxs)(o.w,{children:[Object(v.jsx)(o.G,{htmlFor:"prescription",children:"Prescription"}),Object(v.jsx)(o.B,{disabled:d,value:B.prescription,name:"prescription",onChange:V,id:"prescription",placeholder:"Enter Prescription"})]}),Object(v.jsxs)(o.w,{className:"py-3 m-0",children:[Object(v.jsx)(o.T,{className:"px-3 justify-content-between align-items-center",children:Object(v.jsx)(o.G,{htmlFor:"recomendation",children:"Recomendation"})}),J.length>0&&Object(v.jsx)("section",{className:"py-2",children:J})]}),Object(v.jsxs)(o.w,{children:[Object(v.jsx)(o.G,{htmlFor:"description",children:"Description"}),Object(v.jsx)(o.fb,{disabled:d,value:B.description,onChange:V,name:"description",id:"description",placeholder:"Enter Description"})]}),Object(v.jsxs)(o.w,{children:[Object(v.jsx)(o.G,{htmlFor:"followUp",children:"Follow up ?"}),Object(v.jsx)(o.B,{disabled:d,type:"number",value:B.followUp,name:"followUp",onChange:V,id:"followUp",placeholder:"Enter follow Up day"})]})]})}),Object(v.jsxs)(o.M,{children:[Object(v.jsx)(o.e,{color:"danger",onClick:function(){return l(!1)},children:"Cancel"}),"doctor"!==x&&Object(v.jsx)(o.e,{color:"primary",onClick:function(){return O.replace({pathname:"/visitors/".concat(t.params.id,"/orders"),state:{orderId:d.orderId}})},children:"View Invoice"})]})]})})),y=(n(711),function(e){var t=e.data;return t&&Object(v.jsxs)("div",{className:"wrapper",children:[Object(v.jsx)("h2",{className:"my-10",children:"Pet Details"}),Object(v.jsx)("table",{className:"table-pet-history mb-50",children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:"Pet Name"})}),Object(v.jsx)("td",{children:t.petRecord.name}),Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:"Pet Type"})}),Object(v.jsx)("td",{children:t.petRecord.specie})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:"Owner Name"})}),Object(v.jsx)("td",{children:t.patientRecord.name}),Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:"Pet Gender"})}),Object(v.jsx)("td",{children:t.petRecord.gender})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:"Owner Contact"})}),Object(v.jsx)("td",{children:t.patientRecord.contact}),Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:"Pet Age"})}),Object(v.jsxs)("td",{children:[t.petRecord.age," years"]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:"Owner ID"})}),Object(v.jsx)("td",{children:t.patientRecord.emiratesId}),Object(v.jsx)("td",{children:Object(v.jsx)("b",{children:"Pet Color"})}),Object(v.jsx)("td",{children:t.petRecord.color})]}),Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colspan:"4",children:Object(v.jsx)("b",{children:"Pet Detail"})})}),Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colspan:"4",children:t.petRecord.description||"Not Available"})})]})}),Object(v.jsx)("h2",{className:"my-10",children:"Pet History"}),Object(v.jsxs)("table",{className:"table-pet-history",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Date"}),Object(v.jsx)("th",{children:"Statement"}),Object(v.jsx)("th",{children:"Prescription"}),Object(v.jsx)("th",{children:"Recomendations"}),Object(v.jsx)("th",{children:"Description"})]})}),Object(v.jsx)("tbody",{children:t.data.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.createdAt}),Object(v.jsx)("td",{children:e.statement}),Object(v.jsx)("td",{children:e.prescription}),Object(v.jsx)("td",{children:e.Recomendations.map((function(e,t){return Object(v.jsxs)("span",{children:[" ",e.Item.name," "]},e.itemId+"-"+t)}))}),Object(v.jsx)("td",{children:e.description})]},t)}))})]})]})}),x=n(712),g=n.n(x),w=function(e){var t=e.match,n=Object(i.useRef)(),a=Object(i.useContext)(m.a),d=a.role,u=(a.addToast,c.a.useState(null)),p=Object(r.a)(u,2),f=p[0],h=p[1],b=c.a.useState(!1),j=Object(r.a)(b,2),x=j[0],w=j[1],P=c.a.useState([]),_=Object(r.a)(P,2),S=_[0],k=_[1],C=c.a.useState(null),I=Object(r.a)(C,2),T=I[0],E=I[1],N=Object(s.a)({url:"https://app.aloropivetcenter.com/api/treatments/all/pets",method:"POST"},{manual:!0}),R=Object(r.a)(N,2),A=R[0].loading,q=R[1],F=Object(l.useReactToPrint)({content:function(){return n.current}});return c.a.useEffect((function(){q({data:{petId:t.params.petId}}).then((function(e){var t,n;k((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[]),function(e){if(e.length>0){var t=e[0].Pet,n=e[0].Order.Patient;E({petRecord:t,patientRecord:n,data:e})}else E(null)}((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.rows)||[])}))}),[q,t.params.petId]),Object(v.jsxs)(o.f,{children:[Object(v.jsx)(o.j,{children:Object(v.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(v.jsx)("div",{className:"font-lg",children:"Pet Previous History"}),"doctor"!==d&&T&&Object(v.jsx)("div",{children:Object(v.jsx)(o.e,{color:"primary",onClick:F,children:"Print History"})})]})}),Object(v.jsx)(o.g,{className:"p-0",children:Object(v.jsx)(o.o,{loading:A,fields:["statement","description","createdAt"],items:S,onRowClick:function(e){return function(e){h(e),w(!0)}(e)},striped:!0})}),Object(v.jsx)(O,{show:x,setShow:function(e){w(e),e||h(null)},details:f}),Object(v.jsx)("div",{className:g.a.printable,ref:n,children:Object(v.jsx)(y,{data:T})})]})},P=n(52),_=(n(713),Object(a.i)((function(e){e.match;var t=e.pet;return Object(v.jsx)("div",{className:"petTab",children:Object(v.jsx)(P.c,{to:{pathname:"/visitors/".concat(t.patientId,"/treatments/").concat(t.id)},children:Object(v.jsx)(o.f,{className:"m-0",children:Object(v.jsx)(o.g,{className:"p-3",children:Object(v.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(v.jsx)("p",{className:"m-0",children:t.name}),Object(v.jsx)("p",{className:"m-0",children:t.createdAt})]})})})})})}))),S=function(e){return e.pets.map((function(e){return Object(v.jsx)(_,{pet:e},e.id)}))};t.default=function(e){var t=e.match,n=c.a.useContext(m.a).addToast,i=Object(a.g)(),l=c.a.useState([]),d=Object(r.a)(l,2),u=d[0],p=d[1],f=Object(s.a)({url:"https://app.aloropivetcenter.com/api/pets/all/patients",method:"POST"},{manual:!0}),h=Object(r.a)(f,2),b=h[0].loading,j=h[1];return c.a.useEffect((function(){j({data:{patientId:t.params.id}}).then((function(e){var n,r,o,c;p(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.rows.map((function(e){return{id:e.id,patientId:t.params.id,name:e.name,createdAt:e.createdAt}}))),(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(o=r.rows)||void 0===o?void 0:o.length)>0&&i.replace("/visitors/".concat(t.params.id,"/treatments/").concat(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.rows[0].id))})).catch((function(e){var t,r;n({message:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Error occured try again later !"})}))}),[j,t.params.id,i]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(o.T,{children:[Object(v.jsx)(o.k,{md:"4",children:Object(v.jsxs)(o.f,{children:[Object(v.jsx)(o.j,{children:Object(v.jsx)("p",{className:"font-lg m-0",children:"Pets"})}),Object(v.jsx)(o.g,{className:"p-0",children:b?Object(v.jsx)("p",{className:"pt-3 text-center",children:"Loading ..."}):Object(v.jsx)(S,{pets:u})})]})}),Object(v.jsxs)(o.k,{children:[Object(v.jsx)(a.b,{path:"/visitors/:id/treatments",exact:!0,render:function(){return Object(v.jsx)("p",{className:"p-5 text-center",children:"Please select Pet to view details."})}}),Object(v.jsx)(a.b,{path:"/visitors/:id/treatments/:petId",component:w})]})]})})}}}]);
//# sourceMappingURL=5.e369d830.chunk.js.map
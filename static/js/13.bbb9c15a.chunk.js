(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[13],{719:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var a="https://app.aloropivetcenter.com/api",s="https://app.aloropivetcenter.com/public/"},741:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.ac9a8e2d.png"},852:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(63),i=n(29),c=n(89),o=s.a.lazy((function(){return n.e(10).then(n.bind(null,843))})),l=s.a.lazy((function(){return n.e(18).then(n.bind(null,844))})),d=s.a.lazy((function(){return Promise.all([n.e(0),n.e(19)]).then(n.bind(null,853))})),m=s.a.lazy((function(){return n.e(32).then(n.bind(null,845))})),u=s.a.lazy((function(){return n.e(14).then(n.bind(null,856))})),p=s.a.lazy((function(){return n.e(16).then(n.bind(null,846))})),b=s.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(25)]).then(n.bind(null,847))})),j=s.a.lazy((function(){return n.e(11).then(n.bind(null,857))})),h=s.a.lazy((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,858))})),x=s.a.lazy((function(){return n.e(17).then(n.bind(null,848))})),v=s.a.lazy((function(){return n.e(15).then(n.bind(null,849))})),O=s.a.lazy((function(){return n.e(30).then(n.bind(null,859))})),f=s.a.lazy((function(){return n.e(29).then(n.bind(null,850))})),g=s.a.lazy((function(){return Promise.all([n.e(0),n.e(23)]).then(n.bind(null,854))})),N=[{path:"/",exact:!0,name:"Home",roles:["superman","administrator","receptionist","doctor"]},{path:"/dashboard",name:"Dashboard",component:o,roles:["superman","administrator"]},{path:"/visitors",exact:!0,name:"Visitors",component:l,roles:["superman","administrator","receptionist","doctor"]},{path:"/visitors/add",exact:!0,name:"Add Visitors",component:d,roles:["superman","administrator","receptionist"]},{path:"/visitors/:id/:slug",exact:!0,name:"Visitor's Details",component:m,roles:["superman","administrator","receptionist","doctor"]},{path:"/visitors/:id/:slug/:petId",exact:!0,name:"Visitor's Details",component:m,roles:["superman","administrator","receptionist","doctor"]},{path:"/check-up",exact:!0,name:"Check up",component:s.a.lazy((function(){return n.e(24).then(n.bind(null,851))})),roles:["superman","administrator","receptionist","doctor"]},{path:"/check-up/:id/:slug",exact:!0,name:"Pet Treatment",component:g,roles:["superman","administrator","receptionist","doctor"]},{path:"/check-up/:id/:slug/:petId",exact:!0,name:"Details",component:g,roles:["superman","administrator","receptionist","doctor"]},{path:"/pet-types",exact:!0,name:"Pet Types",component:u,roles:["superman","administrator","receptionist"]},{path:"/services",exact:!0,name:"Pet Services",component:p,roles:["superman","administrator","receptionist"]},{path:"/orders",exact:!0,name:"Orders",component:b,roles:["superman","administrator"]},{path:"/items",exact:!0,name:"Items",component:j,roles:["superman","administrator","receptionist"]},{path:"/packages",exact:!0,name:"Packages",component:h,roles:["superman","administrator","receptionist"]},{path:"/roles",exact:!0,name:"Roles",component:v,roles:["superman"]},{path:"/users",exact:!0,name:"Users",component:x,roles:["superman","administrator"]},{path:"/users/add",exact:!0,name:"Add New User",component:f,roles:["superman","administrator"]},{path:"/users/:id",exact:!0,name:"User Details",component:O,roles:["superman","administrator"]},{path:"/users/:id/edit",exact:!0,name:"Edit User",component:f,roles:["superman","administrator"]}],k=n(194),y=n(22),S=Object(y.jsx)("div",{className:"pt-3 text-center",children:Object(y.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),C=function(){var e=s.a.useContext(k.a).role;return Object(y.jsx)("main",{className:"c-main",children:Object(y.jsx)(c.n,{fluid:!0,children:Object(y.jsx)(a.Suspense,{fallback:S,children:Object(y.jsxs)(i.d,{children:[N.filter((function(t){return t.roles.includes(e)})).map((function(e,t){return e.component&&Object(y.jsx)(i.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(y.jsx)(c.u,{children:Object(y.jsx)(e.component,Object(r.a)({},t))})}},t)})),["superman","administrator"].includes(e)?Object(y.jsx)(i.a,{from:"/",to:"/dashboard"}):Object(y.jsx)(i.a,{from:"/",to:"/visitors"})]})})})})},w=s.a.memo(C),I=function(){return Object(y.jsx)(c.v,{fixed:!1})},z=s.a.memo(I),P=n(198),D=n(65),_=function(e){e.setToken;var t=Object(P.b)(),n=Object(P.c)((function(e){return e.sidebarShow}));return Object(y.jsxs)(c.y,{withSubheader:!0,children:[Object(y.jsx)(c.kb,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var e=!![!1,"responsive"].includes(n)||"responsive";t({type:"set",sidebarShow:e})}}),Object(y.jsx)(c.kb,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var e=![!0,"responsive"].includes(n)&&"responsive";t({type:"set",sidebarShow:e})}}),Object(y.jsxs)(c.z,{className:"px-3 ml-auto",children:[Object(y.jsx)(U,{}),Object(y.jsx)(T,{})]}),Object(y.jsx)(c.db,{className:"px-3 justify-content-between",children:Object(y.jsx)(c.e,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:N})})]})},T=function(){var e=Object(a.useContext)(k.a).setToken;return Object(y.jsxs)(c.q,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(y.jsx)(c.t,{className:"c-header-nav-link",caret:!1,children:Object(y.jsx)("div",{className:"c-avatar",children:Object(y.jsx)(c.A,{src:"avatars/user.png",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"})})}),Object(y.jsxs)(c.s,{className:"pt-0",placement:"bottom-end",children:[Object(y.jsx)(c.r,{header:!0,tag:"div",color:"light",className:"text-center",children:Object(y.jsx)("strong",{children:"Settings"})}),Object(y.jsx)(c.r,{divider:!0}),Object(y.jsxs)(c.r,{onClick:function(){return e("")},children:[Object(y.jsx)(D.a,{name:"cil-lock-locked",className:"mfe-2"}),"Lock Account"]})]})]})},V=n(82),A=n(720),E=n(719),U=function(){var e=Object(i.g)(),t=s.a.useContext(k.a).addToast,n=s.a.useState([]),a=Object(V.a)(n,2),r=a[0],o=a[1],l=Object(A.a)({url:E.a+"/notifications/all/records",method:"GET"},{manual:!0}),d=Object(V.a)(l,2)[1];s.a.useEffect((function(){m();var e=setInterval((function(){m()}),1e4);return function(){clearInterval(e)}}),[]);var m=function(){var e=new Date,n="".concat(e.getFullYear(),"-").concat(+e.getMonth()+1,"-").concat(e.getDate());d({params:{date:n}}).then((function(e){o((null===e||void 0===e?void 0:e.data)||[])})).catch((function(e){var n,a;t({message:(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Error Occured ! Try again later"})}))};return Object(y.jsxs)(c.q,{inNav:!0,className:"c-header-nav-item mx-2",children:[Object(y.jsxs)(c.t,{className:"c-header-nav-link",caret:!1,children:[Object(y.jsx)(D.a,{name:"cil-bell"}),r.length>0&&Object(y.jsx)(c.b,{shape:"pill",color:"danger",children:r.filter((function(e){return!0!==e.isRead})).length})]}),Object(y.jsxs)(c.s,{placement:"bottom-end",className:"pt-0",children:[Object(y.jsx)(c.r,{header:!0,tag:"div",className:"text-center",color:"light",children:Object(y.jsxs)("strong",{children:["You have ",r.length," notifications"]})}),0==r.length&&Object(y.jsx)("p",{className:"text-center m-0 py-2",children:Object(y.jsx)("em",{children:"No notifications !"})}),r.map((function(t,n){return Object(y.jsxs)(c.r,{onClick:function(){return function(t){d({url:E.a+"/notifications/"+t.id}),e.push({pathname:"/visitors/".concat(t.patientId,"/details")})}(t)},children:[t.Patient.name," has a Follow up"]},n)}))]})]})},H=[{_tag:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:Object(y.jsx)(D.a,{name:"cil-speedometer",customClasses:"c-sidebar-nav-icon"}),roles:["superman","administrator"]},{_tag:"CSidebarNavItem",name:"Visitors",to:"/visitors",icon:"cil-address-book",roles:["superman","administrator","receptionist","doctor"]},{_tag:"CSidebarNavItem",name:"Orders",to:"/orders",icon:"cil-address-book",roles:["superman","administrator"]},{_tag:"CSidebarNavItem",name:"Check up",to:"/check-up",icon:"cil-address-book",roles:["superman","administrator","receptionist","doctor"]},{_tag:"CSidebarNavItem",name:"Pet Types",to:"/pet-types",icon:"cil-address-book",roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Services",to:"/services",icon:"cil-address-book",roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Items",to:"/items",icon:"cil-address-book",roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Packages",to:"/packages",icon:"cil-address-book",roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Users",to:"/users",icon:"cil-address-book",roles:["superman","administrator"]},{_tag:"CSidebarNavItem",name:"Roles",to:"/roles",icon:"cil-address-book",roles:["superman"]}],R=n(741),Y=function(){var e=s.a.useState([]),t=Object(V.a)(e,2),n=t[0],a=t[1],r=s.a.useContext(k.a).role,i=Object(P.b)(),o=Object(P.c)((function(e){return e.sidebarShow}));return s.a.useEffect((function(){a(H.filter((function(e){return e.roles.includes(r)})))}),[r]),Object(y.jsxs)(c.V,{show:o,colorScheme:"light",onShowChange:function(e){return i({type:"set",sidebarShow:e})},children:[Object(y.jsxs)(c.W,{className:"d-md-down-none",to:"/",children:[Object(y.jsx)("div",{className:"c-sidebar-brand-full",children:Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:R.a,alt:"logo",height:"50"})}),Object(y.jsxs)("div",{className:"ml-2",children:[Object(y.jsx)("p",{className:"mb-0 text-primary font-bold font-xl",children:"Aloropi"}),Object(y.jsx)("p",{className:"mb-0 font-sm",children:"Veterinary Center"})]})]})}),Object(y.jsx)("div",{className:"c-sidebar-brand-minimized",children:Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:R.a,alt:"logo",height:"50"})})})]}),Object(y.jsx)(c.Y,{children:n.length>0&&Object(y.jsx)(c.o,{items:n,components:{CSidebarNavDivider:c.Z,CSidebarNavDropdown:c.ab,CSidebarNavItem:c.bb,CSidebarNavTitle:c.cb}})}),Object(y.jsx)(c.X,{className:"c-d-md-down-none"})]})},q=s.a.memo(Y);t.default=function(){return Object(y.jsxs)("div",{className:"c-app c-default-layout",children:[Object(y.jsx)(q,{}),Object(y.jsxs)("div",{className:"c-wrapper",children:[Object(y.jsx)(_,{}),Object(y.jsx)("div",{className:"c-body",children:Object(y.jsx)(w,{})}),Object(y.jsx)(z,{})]})]})}}}]);
//# sourceMappingURL=13.bbb9c15a.chunk.js.map
{"version":3,"sources":["views/base/tableHeader/TableHeader.js","views/visitors/Visitors.js"],"names":["TableHeader","keyword","changeKeyword","children","className","sm","type","name","placeholder","autoComplete","value","onChange","onKeyPress","fields","key","label","Visitors","role","React","useContext","AppContext","history","useHistory","useAxios","url","method","manual","data","loading","error","fetch","useEffect","xs","lg","items","rows","striped","itemsPerPage","pagination","onRowClick","item","push","id","overTableSlot","color","variant","onClick"],"mappings":"6KAAA,0BAiCeA,IAvBK,SAAC,GAAsD,IAAD,IAAnDC,eAAmD,MAAzC,GAAyC,MAArCC,qBAAqC,MAArB,KAAqB,EAAfC,EAAe,EAAfA,SACzD,OACE,eAAC,IAAD,CAAMC,UAAU,6CAAhB,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,cAAC,IAAD,CAAYD,UAAU,OAAtB,SACE,cAAC,IAAD,CACEE,KAAK,OACLC,KAAK,UACLC,YAAY,gBACZC,aAAa,MACbC,MAAOT,EACPU,SAAUT,EACVU,WAAYV,QAIlB,cAAC,IAAD,CAAMG,GAAG,IAAID,UAAU,6BAAvB,SACID,S,wHCVJU,EAAS,CACX,OACA,CACEC,IAAK,YACLC,MAAO,cAET,QACA,WAiEWC,UA9DE,WAAO,IACdC,EAASC,IAAMC,WAAWC,KAA1BH,KAEFI,EAAUC,cAHK,EASqBC,YACxC,CACEC,IAAK,gDACLC,OAAQ,OAEV,CACEC,QAAQ,IAfS,0BASZC,EATY,EASZA,KAAMC,EATM,EASNA,QAASC,EATH,EASGA,MAASC,EATZ,KAuBrB,OAJAZ,IAAMa,WAAU,WACdD,MACC,CAACA,IAGF,mCACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAME,GAAG,KAAKC,GAAG,KAAjB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,uBAGA,cAAC,IAAD,UACA,cAAC,IAAD,CACEC,MAAON,GAAgBC,EAAN,IAAuB,OAAJF,QAAI,IAAJA,OAAA,EAAAA,EAAMQ,OAAQ,GAClDtB,OAAQA,EACRuB,SAAO,EACPC,aAAc,EACdC,YAAU,EACVV,QAASA,EACTW,WAAY,SAACC,GAAD,OAAUnB,EAAQoB,KAAR,oBAA0BD,EAAKE,GAA/B,cACtBC,cACW,WAAT1B,GACA,cAAC,IAAD,UACE,cAAC,IAAD,CACE2B,MAAM,UACNC,QAAQ,UACNzC,UAAU,gBACV0C,QA1CA,WAClBzB,EAAQoB,KAAK,kBAqCC,SAMI,sBAAMrC,UAAU,OAAhB","file":"static/js/16.499431d5.chunk.js","sourcesContent":["import React from 'react'\n\nimport {\n  CRow,\n  CCol,\n  CFormGroup,\n  CInput,\n} from '@coreui/react'\n\n\nconst TableHeader = ({ keyword = '', changeKeyword = null, children }) => {\n  return (\n    <CRow className=\"align-items-center justify-content-between\">\n      <CCol sm=\"4\">\n        <CFormGroup className=\"mb-0\">\n          <CInput\n            type=\"text\"\n            name=\"nf-text\"\n            placeholder=\"Search Here..\"\n            autoComplete=\"off\"\n            value={keyword}\n            onChange={changeKeyword}\n            onKeyPress={changeKeyword}\n          />\n        </CFormGroup>\n      </CCol>\n      <CCol sm=\"4\" className=\"d-flex justify-content-end\">\n        { children }\n      </CCol>\n    </CRow>\n  )\n}\n\nexport default TableHeader\n","import React from 'react'\nimport useAxios from 'axios-hooks'\nimport { useHistory } from \"react-router-dom\";\nimport TableHeader from '../base/tableHeader/TableHeader'\n\nimport {\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n} from '@coreui/react'\n\nimport { AppContext } from '../../App.js'\n\nconst fields = [\n    'name',\n    {\n      key: 'createdAt',\n      label: 'Registered'\n    },\n    'email',\n    'contact'\n  ]\n\nconst Visitors = () => {\n  const { role } = React.useContext(AppContext)\n\n  const history = useHistory()\n\n  const handleClick = () => {\n    history.push(\"/visitors/add\")\n  }\n\n  const [{ data, loading, error }, fetch] = useAxios(\n    {\n      url: 'https://app.aloropivetcenter.com/api/patients',\n      method: 'GET',\n    },\n    {\n      manual: true\n    }\n  )\n\n  React.useEffect(() => {\n    fetch()\n  }, [fetch])\n\n  return (\n    <>\n      <CRow>\n        <CCol xs=\"12\" lg=\"12\">\n          <CCard>\n            <CCardHeader>\n              Visitors\n            </CCardHeader>\n            <CCardBody>\n            <CDataTable\n              items={loading ? [] : (error ? [] : data?.rows || [])}\n              fields={fields}\n              striped\n              itemsPerPage={5}\n              pagination\n              loading={loading}\n              onRowClick={(item) => history.push(`/visitors/${item.id}/details`)}\n              overTableSlot={\n                role !== 'doctor' &&\n                <TableHeader>\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                      className=\"m-2 pl-3 pr-4\"\n                      onClick={handleClick}\n                    >\n                      <span className=\"ml-1\">Add Visit</span>\n                    </CButton>\n                </TableHeader>\n              }\n            />\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  )\n}\n\nexport default Visitors\n"],"sourceRoot":""}
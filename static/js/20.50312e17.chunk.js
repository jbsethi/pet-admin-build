(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{677:function(e,t,a){"use strict";a(1);var c=a(72),n=a(18);t.a=function(e){var t=e.keyword,a=void 0===t?"":t,l=e.changeKeyword,s=void 0===l?null:l,r=e.children;return Object(n.jsxs)(c.T,{className:"align-items-center justify-content-between pb-2",children:[Object(n.jsx)(c.l,{sm:"4",children:Object(n.jsx)(c.x,{className:"mb-0",children:Object(n.jsx)(c.B,{type:"text",name:"nf-text",placeholder:"Search Here..",autoComplete:"off",value:a,onChange:s,onKeyPress:s})})}),Object(n.jsx)(c.l,{sm:"4",className:"d-flex justify-content-end",children:r})]})}},725:function(e,t,a){"use strict";a.r(t);var c=a(52),n=a(66),l=a(1),s=a(675),r=a(72),i=a(676),o=a(674),j=a(677),d=a(173),u=a(690),b=a(18),m=["id",{key:"createdAt",label:"Registered"},{key:"checkUpPrice",label:"Doctor's Fee"},{key:"price",label:"Total Bill"}];t.default=function(){var e=Object(l.useContext)(d.a),t=(e.role,e.addToast),a=Object(l.useState)(""),h=Object(n.a)(a,2),O=h[0],f=h[1],g=Object(l.useState)(!1),x=Object(n.a)(g,2),v=x[0],p=x[1],y=Object(l.useState)(null),N=Object(n.a)(y,2),w=N[0],D=N[1],k=Object(l.useState)({}),F=Object(n.a)(k,2),S=F[0],C=F[1],T=Object(l.useState)(1),P=Object(n.a)(T,2),E=P[0],R=P[1],M=Object(l.useState)(1),z=Object(n.a)(M,2),K=z[0],Y=z[1],A=Object(l.useState)(0),B=Object(n.a)(A,2),J=B[0],G=B[1],H=Object(l.useState)([]),U=Object(n.a)(H,2),q=U[0],I=U[1],L=Object(s.a)({url:o.a+"orders",method:"GET",params:{pageNo:K}},{manual:!0}),Q=Object(n.a)(L,2),V=Q[0],W=V.data,X=V.loading,Z=Q[1],$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;D(t),p(e),C(null===t||void 0===t?void 0:t.Patient)},_=function(e){var a=new Date(e.target.value),c="".concat(a.getFullYear(),"-").concat(("0"+(a.getMonth()+1)).slice(-2),"-").concat(a.getDate());"to"===e.target.name?i.a.compare(q[0],c)>0?(e.target.value=Date.now(),t({message:"To date should be greater than from date !"})):I((function(e){return[e[0],c]})):i.a.compare(c,q[1])>0?(e.target.value=Date.now(),t({message:"To date should be greater than from date !"})):I((function(e){return[c,e[1]]}))};return Object(l.useEffect)((function(){if(!q.length){var e=new Date,t="".concat(e.getFullYear(),"-").concat(("0"+(e.getMonth()+1)).slice(-2),"-").concat(e.getDate());I([t,t])}}),[q.length]),Object(l.useEffect)((function(){var e={fromDate:q[0],toDate:q[1]};0===J&&(delete e.fromDate,delete e.toDate),Z({params:Object(c.a)(Object(c.a)({},e),{},{pageNo:K})}).then((function(e){var t,a=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)?e.data.count/10:1;R(Math.ceil(a))})).catch((function(e){console.log(e.response)}))}),[q,K,Z,J]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(r.T,{children:Object(b.jsx)(r.l,{xs:"12",lg:"12",children:Object(b.jsxs)(r.g,{children:[Object(b.jsx)(r.k,{children:"Orders"}),Object(b.jsx)(r.h,{children:Object(b.jsx)(r.p,{items:X?[]:(null===W||void 0===W?void 0:W.rows)||[],fields:m,striped:!0,itemsPerPage:10,loading:X,onRowClick:function(e){return $(!0,e)},overTableSlot:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{keyword:O,changeKeyword:function(e){"Enter"===e.key?Z({params:{search:O}}):f(e.target.value)}}),Object(b.jsxs)("div",{className:"d-flex justify-content-between pb-3",children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)(r.f,{onClick:function(){return G(1)},color:"primary",variant:"outline",size:"sm",children:"Filter by Date"}),Object(b.jsx)(r.f,{onClick:function(){return G(2)},className:"ml-2",color:"info",variant:"outline",size:"sm",children:"Filter by date Range"}),0!==J&&Object(b.jsx)(r.f,{onClick:function(){return G(0)},className:"ml-2",color:"danger",variant:"outline",size:"sm",children:"Reset Filters"})]}),1===J&&Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("label",{className:"mb-0",children:"Filter by Date: "}),Object(b.jsx)("input",{onChange:function(e){var t=new Date(e.target.value),a="".concat(t.getFullYear(),"-").concat(("0"+(t.getMonth()+1)).slice(-2),"-").concat(t.getDate());I([a,a])},className:"ml-2",type:"date"})]}),2===J&&Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("label",{className:"mb-0",children:"Filter From: "}),Object(b.jsx)("input",{onChange:_,className:"ml-2",type:"date",name:"from"})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center ml-3",children:[Object(b.jsx)("label",{className:"mb-0",children:"Filter To: "}),Object(b.jsx)("input",{onChange:_,className:"ml-2",type:"date",name:"to"})]})]})]})]}),underTableSlot:Object(b.jsx)(r.R,{activePage:K,pages:E,onActivePageChange:function(e){return Y(e)}})})})]})})}),Object(b.jsx)(u.a,{isEditable:!1,show:v,setShow:$,order:w,patientData:S})]})}}}]);
//# sourceMappingURL=20.50312e17.chunk.js.map
(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[18],{683:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.ac9a8e2d.png"},728:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(53),i=n(24),c=n(72),o=s.a.lazy((function(){return n.e(21).then(n.bind(null,720))})),l=s.a.lazy((function(){return n.e(14).then(n.bind(null,721))})),d=s.a.lazy((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,729))})),m=s.a.lazy((function(){return n.e(26).then(n.bind(null,722))})),u=s.a.lazy((function(){return n.e(10).then(n.bind(null,732))})),p=s.a.lazy((function(){return n.e(12).then(n.bind(null,723))})),b=s.a.lazy((function(){return n.e(8).then(n.bind(null,733))})),j=s.a.lazy((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,734))})),h=s.a.lazy((function(){return n.e(13).then(n.bind(null,724))})),x=s.a.lazy((function(){return n.e(11).then(n.bind(null,725))})),v=s.a.lazy((function(){return n.e(17).then(n.bind(null,735))})),O=s.a.lazy((function(){return n.e(16).then(n.bind(null,726))})),f=s.a.lazy((function(){return Promise.all([n.e(0),n.e(19)]).then(n.bind(null,730))})),g=[{path:"/",exact:!0,name:"Home",roles:["superman","administrator","receptionist","doctor"]},{path:"/dashboard",name:"Dashboard",component:o,roles:["superman","administrator","receptionist"]},{path:"/visitors",exact:!0,name:"Visitors",component:l,roles:["superman","administrator","receptionist","doctor"]},{path:"/visitors/add",exact:!0,name:"Add Visitors",component:d,roles:["superman","administrator","receptionist"]},{path:"/visitors/:id/:slug",exact:!0,name:"Visitor's Details",component:m,roles:["superman","administrator","receptionist","doctor"]},{path:"/visitors/:id/:slug/:petId",exact:!0,name:"Visitor's Details",component:m,roles:["superman","administrator","receptionist","doctor"]},{path:"/check-up",exact:!0,name:"Check up",component:s.a.lazy((function(){return n.e(20).then(n.bind(null,727))})),roles:["superman","administrator","receptionist","doctor"]},{path:"/check-up/:id/:slug",exact:!0,name:"Pet Treatment",component:f,roles:["superman","administrator","receptionist","doctor"]},{path:"/check-up/:id/:slug/:petId",exact:!0,name:"Details",component:f,roles:["superman","administrator","receptionist","doctor"]},{path:"/pet-types",exact:!0,name:"Pet Types",component:u,roles:["superman","administrator","receptionist"]},{path:"/services",exact:!0,name:"Pet Services",component:p,roles:["superman","administrator","receptionist"]},{path:"/items",exact:!0,name:"Items",component:b,roles:["superman","administrator","receptionist"]},{path:"/packages",exact:!0,name:"Packages",component:j,roles:["superman","administrator","receptionist"]},{path:"/roles",exact:!0,name:"Roles",component:x,roles:["superman"]},{path:"/users",exact:!0,name:"Users",component:h,roles:["superman","administrator"]},{path:"/users/add",exact:!0,name:"Add New User",component:O,roles:["superman","administrator"]},{path:"/users/:id",exact:!0,name:"User Details",component:v,roles:["superman","administrator"]},{path:"/users/:id/edit",exact:!0,name:"Edit User",component:O,roles:["superman","administrator"]}],N=n(173),k=n(18),y=Object(k.jsx)("div",{className:"pt-3 text-center",children:Object(k.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),S=function(){var e=s.a.useContext(N.a).role;return Object(k.jsx)("main",{className:"c-main",children:Object(k.jsx)(c.n,{fluid:!0,children:Object(k.jsx)(a.Suspense,{fallback:y,children:Object(k.jsxs)(i.d,{children:[g.filter((function(t){return t.roles.includes(e)})).map((function(e,t){return e.component&&Object(k.jsx)(i.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(k.jsx)(c.u,{children:Object(k.jsx)(e.component,Object(r.a)({},t))})}},t)})),["superman","administrator"].includes(e)?Object(k.jsx)(i.a,{from:"/",to:"/dashboard"}):Object(k.jsx)(i.a,{from:"/",to:"/visitors"})]})})})})},C=s.a.memo(S),w=function(){return Object(k.jsx)(c.v,{fixed:!1})},I=s.a.memo(w),z=n(176),D=n(54),P=function(e){e.setToken;var t=Object(z.b)(),n=Object(z.c)((function(e){return e.sidebarShow}));return Object(k.jsxs)(c.y,{withSubheader:!0,children:[Object(k.jsx)(c.kb,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var e=!![!1,"responsive"].includes(n)||"responsive";t({type:"set",sidebarShow:e})}}),Object(k.jsx)(c.kb,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var e=![!0,"responsive"].includes(n)&&"responsive";t({type:"set",sidebarShow:e})}}),Object(k.jsxs)(c.z,{className:"px-3 ml-auto",children:[Object(k.jsx)(A,{}),Object(k.jsx)(T,{})]}),Object(k.jsx)(c.db,{className:"px-3 justify-content-between",children:Object(k.jsx)(c.e,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:g})})]})},T=function(){var e=Object(a.useContext)(N.a).setToken;return Object(k.jsxs)(c.q,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(k.jsx)(c.t,{className:"c-header-nav-link",caret:!1,children:Object(k.jsx)("div",{className:"c-avatar",children:Object(k.jsx)(c.A,{src:"avatars/user.png",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"})})}),Object(k.jsxs)(c.s,{className:"pt-0",placement:"bottom-end",children:[Object(k.jsx)(c.r,{header:!0,tag:"div",color:"light",className:"text-center",children:Object(k.jsx)("strong",{children:"Settings"})}),Object(k.jsx)(c.r,{divider:!0}),Object(k.jsxs)(c.r,{onClick:function(){return e("")},children:[Object(k.jsx)(D.a,{name:"cil-lock-locked",className:"mfe-2"}),"Lock Account"]})]})]})},_=n(66),V=n(674),A=function(){var e=Object(i.g)(),t=s.a.useContext(N.a).addToast,n=s.a.useState([]),a=Object(_.a)(n,2),r=a[0],o=a[1],l=Object(V.a)({url:"https://app.aloropivetcenter.com/api/notifications/all/records",method:"GET"},{manual:!0}),d=Object(_.a)(l,2)[1];s.a.useEffect((function(){m();var e=setInterval((function(){m()}),1e4);return function(){clearInterval(e)}}),[]);var m=function(){var e=new Date,n="".concat(e.getFullYear(),"-").concat(+e.getMonth()+1,"-").concat(e.getDate());d({params:{date:n}}).then((function(e){o((null===e||void 0===e?void 0:e.data)||[])})).catch((function(e){var n,a;t({message:(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Error Occured ! Try again later"})}))};return Object(k.jsxs)(c.q,{inNav:!0,className:"c-header-nav-item mx-2",children:[Object(k.jsxs)(c.t,{className:"c-header-nav-link",caret:!1,children:[Object(k.jsx)(D.a,{name:"cil-bell"}),r.length>0&&Object(k.jsx)(c.b,{shape:"pill",color:"danger",children:r.filter((function(e){return!0!==e.isRead})).length})]}),Object(k.jsxs)(c.s,{placement:"bottom-end",className:"pt-0",children:[Object(k.jsx)(c.r,{header:!0,tag:"div",className:"text-center",color:"light",children:Object(k.jsxs)("strong",{children:["You have ",r.length," notifications"]})}),0==r.length&&Object(k.jsx)("p",{className:"text-center m-0 py-2",children:Object(k.jsx)("em",{children:"No notifications !"})}),r.map((function(t,n){return Object(k.jsxs)(c.r,{onClick:function(){return function(t){d({url:"https://app.aloropivetcenter.com/api/notifications/"+t.id}),e.push({pathname:"/visitors/".concat(t.patientId,"/details")})}(t)},children:[t.Patient.name," has a Follow up"]},n)}))]})]})},E=[{_tag:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:Object(k.jsx)(D.a,{name:"cil-speedometer",customClasses:"c-sidebar-nav-icon"}),roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Visitors",to:"/visitors",icon:"cil-address-book",roles:["superman","administrator","receptionist","doctor"]},{_tag:"CSidebarNavItem",name:"Check up",to:"/check-up",icon:"cil-address-book",roles:["superman","administrator","receptionist","doctor"]},{_tag:"CSidebarNavItem",name:"Pet Types",to:"/pet-types",icon:"cil-address-book",roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Services",to:"/services",icon:"cil-address-book",roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Items",to:"/items",icon:"cil-address-book",roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Packages",to:"/packages",icon:"cil-address-book",roles:["superman","administrator","receptionist"]},{_tag:"CSidebarNavItem",name:"Users",to:"/users",icon:"cil-address-book",roles:["superman","administrator"]},{_tag:"CSidebarNavItem",name:"Roles",to:"/roles",icon:"cil-address-book",roles:["superman"]}],U=n(683),H=function(){var e=s.a.useState([]),t=Object(_.a)(e,2),n=t[0],a=t[1],r=s.a.useContext(N.a).role,i=Object(z.b)(),o=Object(z.c)((function(e){return e.sidebarShow}));return s.a.useEffect((function(){a(E.filter((function(e){return e.roles.includes(r)})))}),[r]),Object(k.jsxs)(c.V,{show:o,colorScheme:"light",onShowChange:function(e){return i({type:"set",sidebarShow:e})},children:[Object(k.jsxs)(c.W,{className:"d-md-down-none",to:"/",children:[Object(k.jsx)("div",{className:"c-sidebar-brand-full",children:Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:U.a,alt:"logo",height:"50"})}),Object(k.jsxs)("div",{className:"ml-2",children:[Object(k.jsx)("p",{className:"mb-0 text-primary font-bold font-xl",children:"Aloropi"}),Object(k.jsx)("p",{className:"mb-0 font-sm",children:"Veterinary Center"})]})]})}),Object(k.jsx)("div",{className:"c-sidebar-brand-minimized",children:Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:U.a,alt:"logo",height:"50"})})})]}),Object(k.jsx)(c.Y,{children:n.length>0&&Object(k.jsx)(c.o,{items:n,components:{CSidebarNavDivider:c.Z,CSidebarNavDropdown:c.ab,CSidebarNavItem:c.bb,CSidebarNavTitle:c.cb}})}),Object(k.jsx)(c.X,{className:"c-d-md-down-none"})]})},R=s.a.memo(H);t.default=function(){return Object(k.jsxs)("div",{className:"c-app c-default-layout",children:[Object(k.jsx)(R,{}),Object(k.jsxs)("div",{className:"c-wrapper",children:[Object(k.jsx)(P,{}),Object(k.jsx)("div",{className:"c-body",children:Object(k.jsx)(C,{})}),Object(k.jsx)(I,{})]})]})}}}]);
//# sourceMappingURL=18.8e550bf1.chunk.js.map
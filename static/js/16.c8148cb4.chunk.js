(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[16],{681:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}));var c="https://app.aloropivetcenter.com/api",s="https://app.aloropivetcenter.com/public/"},726:function(e,t,a){"use strict";a.r(t);var c=a(174),s=a(53),n=a(66),r=a(1),i=a.n(r),l=a(24),o=a(674),m=a(681),d=a(72),j=a(173),u=a(18);t.default=function(e){var t,a,h,p,x=e.match,b=Object(r.useContext)(j.a).addToast,O=Object(l.g)(),f=Object(o.a)({url:"https://app.aloropivetcenter.com/api/users".concat((null===x||void 0===x||null===(t=x.params)||void 0===t?void 0:t.id)?"/"+(null===x||void 0===x||null===(a=x.params)||void 0===a?void 0:a.id):""),method:(null===x||void 0===x||null===(h=x.params)||void 0===h?void 0:h.id)?"PUT":"POST"},{manual:!0}),v=Object(n.a)(f,2),g=v[0],w=g.data,N=g.loading,C=v[1],y=Object(o.a)({url:"".concat(m.a,"/users/").concat(x.params.id),method:"GET"},{manual:!0}),F=Object(n.a)(y,2),k=F[0].data,H=F[1],E=i.a.useState(null),I=Object(n.a)(E,2),P=I[0],U=I[1],_=i.a.useState({emiratesId:"",role:1,name:"",email:"",contact:"",username:"",password:"",confirm_password:"",image:"",active:!0}),D=Object(n.a)(_,2),A=D[0],R=D[1],S=function(e){R((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(c.a)({},e.target.name,"active"===e.target.name?e.target.checked:e.target.value))}))};return i.a.useEffect((function(){w&&O.push("/users")}),[w,O]),i.a.useEffect((function(){var e;k?R({emiratesId:k.emiratesId,role:k.role,name:k.name,email:k.email,contact:k.contact,username:k.username,password:"",confirm_password:"",image:k.image,active:k.active}):(null===x||void 0===x||null===(e=x.params)||void 0===e?void 0:e.id)&&H().catch((function(e){b({message:e.response.data.message})}))}),[k,R,H,x]),Object(u.jsx)(d.U,{children:Object(u.jsx)(d.l,{xl:12,children:Object(u.jsxs)(d.g,{children:[Object(u.jsx)(d.k,{children:"Add Users"}),Object(u.jsx)(d.h,{children:Object(u.jsx)(d.w,{action:"",method:"post",className:"form-horizontal",children:Object(u.jsxs)(d.U,{children:[Object(u.jsxs)(d.l,{lg:"7",children:[Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-emirates-id",children:"Emirates ID"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsx)(d.C,{value:A.emiratesId,onChange:S,id:"input-emirates-id",name:"emiratesId",placeholder:"Emirates ID"})})]}),Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-role",children:"Roles"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsxs)(d.V,{value:A.role,onChange:S,custom:!0,name:"role",id:"input-role",children:[Object(u.jsx)("option",{value:"2",children:"Administrator"}),Object(u.jsx)("option",{value:"4",children:"Receiptionist"}),Object(u.jsx)("option",{value:"3",children:"Doctor"})]})})]}),Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-name",children:"Name"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsx)(d.C,{value:A.name,onChange:S,id:"input-name",name:"name",placeholder:"Name"})})]}),Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-email",children:"Email"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsx)(d.C,{value:A.email,onChange:S,id:"input-email",name:"email",placeholder:"Email"})})]}),Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-contact",children:"Phone No"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsx)(d.C,{value:A.contact,onChange:S,id:"input-contact",name:"contact",placeholder:"Phone no"})})]}),Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-username",children:"Username"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsx)(d.C,{value:A.username,onChange:S,id:"input-username",name:"username",placeholder:"Username"})})]}),!(null===x||void 0===x||null===(p=x.params)||void 0===p?void 0:p.id)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-password",children:"Password"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsx)(d.C,{value:A.password,onChange:S,id:"input-password",name:"password",placeholder:"Password",type:"password"})})]}),Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-confirm-password",children:"Confirm Password"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsx)(d.C,{value:A.confirm_password,onChange:S,id:"input-confirm-password",name:"confirm_password",placeholder:"Password",type:"password"})})]})]}),Object(u.jsxs)(d.x,{row:!0,className:"justify-content-center",children:[Object(u.jsx)(d.H,{className:"text-right",sm:"3",col:!0,htmlFor:"input-active",children:"Active"}),Object(u.jsx)(d.l,{sm:"6",children:Object(u.jsx)(d.fb,{className:"pt-1",color:"primary",name:"active",checked:A.active,onChange:S,variant:"opposite",shape:"pill"})})]})]}),Object(u.jsx)(d.l,{lg:"4",children:Object(u.jsxs)(d.J,{className:"flex-column",children:[Object(u.jsx)("img",{src:P||"https://www.kindpng.com/picc/m/72-723761_student-png-sammilani-mahavidyalaya-undergraduate-and-dummy-user.png",alt:"preview",width:"100%"}),Object(u.jsx)(d.K,{className:"w-100 mt-4",children:Object(u.jsx)(d.x,{row:!0,children:Object(u.jsx)(d.l,{sm:"12",children:Object(u.jsx)(d.C,{onChange:function(e){var t=new FileReader,a=e.target.files[0];t.onloadend=function(){R((function(e){return Object(s.a)(Object(s.a)({},e),{},{image:a})})),U(t.result)},t.readAsDataURL(a)},id:"input-image",name:"image",type:"file"})})})})]})})]})})}),Object(u.jsx)(d.i,{children:Object(u.jsxs)("section",{className:"text-right w-50 ml-auto",children:[Object(u.jsx)(d.f,{onClick:function(){R((function(){return{emiratesId:"",role:1,name:"",email:"",contact:"",username:"",password:"",confirm_password:"",image:"",active:!0}})),U(null)},color:"danger",className:"mr-1 w-25",children:"Clear"}),Object(u.jsx)(d.f,{onClick:function(){if(!N){var e=Object(s.a)({},A);x.params.id&&(delete e.password,delete e.confirm_password);var t=function(e){var t=new FormData;return Object.keys(e).forEach((function(a){return t.append(a,e[a])})),t}(e);C({data:t}).catch((function(e){b({message:e.response.data.message})}))}},color:"primary",className:"w-25",children:N?"Loading":"Submit"})]})})]})})})}}}]);
//# sourceMappingURL=16.c8148cb4.chunk.js.map
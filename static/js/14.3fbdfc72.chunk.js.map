{"version":3,"sources":["views/base/tableHeader/TableHeader.js","views/services/Services.js"],"names":["TableHeader","keyword","changeKeyword","children","className","sm","type","name","placeholder","autoComplete","value","onChange","onKeyPress","fields","key","label","Services","React","useState","setKeyword","totalPages","setTotalPages","currentPage","setActivePage","useAxios","url","method","params","pageNo","manual","data","loading","error","fetch","useEffect","then","resp","console","log","xs","lg","items","rows","striped","itemsPerPage","overTableSlot","e","search","target","underTableSlot","activePage","pages","onActivePageChange","i"],"mappings":"6KAAA,0BAiCeA,IAvBK,SAAC,GAAsD,IAAD,IAAnDC,eAAmD,MAAzC,GAAyC,MAArCC,qBAAqC,MAArB,KAAqB,EAAfC,EAAe,EAAfA,SACzD,OACE,eAAC,IAAD,CAAMC,UAAU,6CAAhB,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,cAAC,IAAD,CAAYD,UAAU,OAAtB,SACE,cAAC,IAAD,CACEE,KAAK,OACLC,KAAK,UACLC,YAAY,gBACZC,aAAa,MACbC,MAAOT,EACPU,SAAUT,EACVU,WAAYV,QAIlB,cAAC,IAAD,CAAMG,GAAG,IAAID,UAAU,6BAAvB,SACID,S,uGCbJU,EAAS,CACX,CACEC,IAAK,cACLC,MAAO,QAET,CACED,IAAK,YACLC,MAAO,cAET,eA6EWC,UA1EE,WAAO,IAAD,EACSC,IAAMC,SAAS,IADxB,mBACdjB,EADc,KACLkB,EADK,OAGeF,IAAMC,SAAS,GAH9B,mBAGdE,EAHc,KAGFC,EAHE,OAIgBJ,IAAMC,SAAS,GAJ/B,mBAIdI,EAJc,KAIDC,EAJC,OAMqBC,YACxC,CACEC,IAAK,gDACLC,OAAQ,MACRC,OAAQ,CACNC,OAAQN,IAGZ,CACEO,QAAQ,IAfS,0BAMZC,EANY,EAMZA,KAAMC,EANM,EAMNA,QAASC,EANH,EAMGA,MAASC,EANZ,KAuCrB,OARAhB,IAAMiB,WAAU,WACdD,IACGE,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACZf,EAAce,EAAKN,KAAKV,iBAE3B,CAACa,IAGF,mCACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMM,GAAG,KAAKC,GAAG,KAAjB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,2BAGA,cAAC,IAAD,UACA,cAAC,IAAD,CACEC,MAAOV,GAAgBC,EAAN,IAAuB,OAAJF,QAAI,IAAJA,OAAA,EAAAA,EAAMY,OAAQ,GAClD7B,OAAQA,EACR8B,SAAO,EACPC,aAAc,GACdb,QAASA,EACTc,cACE,cAAC,IAAD,CAAa5C,QAASA,EAASC,cApCvB,SAAC4C,GACR,UAAVA,EAAEhC,IACHmB,EAAM,CACJN,OAAQ,CACNoB,OAAQ9C,KAIZkB,EAAW2B,EAAEE,OAAOtC,UA+BZuC,eACE,cAAC,IAAD,CACEC,WAAY5B,EACZ6B,MAAO/B,EACPgC,mBAAoB,SAACC,GAAD,OAAO9B,EAAc8B","file":"static/js/14.3fbdfc72.chunk.js","sourcesContent":["import React from 'react'\n\nimport {\n  CRow,\n  CCol,\n  CFormGroup,\n  CInput,\n} from '@coreui/react'\n\n\nconst TableHeader = ({ keyword = '', changeKeyword = null, children }) => {\n  return (\n    <CRow className=\"align-items-center justify-content-between\">\n      <CCol sm=\"4\">\n        <CFormGroup className=\"mb-0\">\n          <CInput\n            type=\"text\"\n            name=\"nf-text\"\n            placeholder=\"Search Here..\"\n            autoComplete=\"off\"\n            value={keyword}\n            onChange={changeKeyword}\n            onKeyPress={changeKeyword}\n          />\n        </CFormGroup>\n      </CCol>\n      <CCol sm=\"4\" className=\"d-flex justify-content-end\">\n        { children }\n      </CCol>\n    </CRow>\n  )\n}\n\nexport default TableHeader\n","import React from 'react'\nimport useAxios from 'axios-hooks'\nimport TableHeader from '../base/tableHeader/TableHeader'\n\nimport {\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CPagination\n} from '@coreui/react'\n\nconst fields = [\n    {\n      key: 'displayName',\n      label: 'Name'\n    },\n    {\n      key: 'createdAt',\n      label: 'Registered'\n    },\n    'description',\n  ]\n\nconst Services = () => {\n  const [keyword, setKeyword] = React.useState('')\n\n  const [totalPages, setTotalPages] = React.useState(1)\n  const [currentPage, setActivePage] = React.useState(1)\n\n  const [{ data, loading, error }, fetch] = useAxios(\n    {\n      url: 'https://app.aloropivetcenter.com/api/services',\n      method: 'GET',\n      params: {\n        pageNo: currentPage\n      }\n    },\n    {\n      manual: true\n    }\n  )\n\n  const changeKeyword = (e) => {\n    if(e.key === 'Enter') {\n      fetch({\n        params: {\n          search: keyword\n        }\n      })\n    } else {\n      setKeyword(e.target.value)\n    }\n  }\n\n  React.useEffect(() => {\n    fetch()\n      .then(resp => {\n        console.log(resp)\n        setTotalPages(resp.data.totalPages)\n      })\n  }, [fetch])\n\n  return (\n    <>\n      <CRow>\n        <CCol xs=\"12\" lg=\"12\">\n          <CCard>\n            <CCardHeader>\n              Pet Services\n            </CCardHeader>\n            <CCardBody>\n            <CDataTable\n              items={loading ? [] : (error ? [] : data?.rows || [])}\n              fields={fields}\n              striped\n              itemsPerPage={10}\n              loading={loading}\n              overTableSlot={\n                <TableHeader keyword={keyword} changeKeyword={changeKeyword}>\n                </TableHeader>\n              }\n              underTableSlot={\n                <CPagination\n                  activePage={currentPage}\n                  pages={totalPages}\n                  onActivePageChange={(i) => setActivePage(i)}\n                ></CPagination>\n              }\n            />\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  )\n}\n\nexport default Services\n"],"sourceRoot":""}
(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[7],{653:function(e,t,c){"use strict";c(1);var n=c(649),r=c(17);t.a=function(e){var t=e.keyword,c=void 0===t?"":t,a=e.changeKeyword,i=void 0===a?null:a,s=e.children;return Object(r.jsxs)(n.T,{className:"align-items-center justify-content-between",children:[Object(r.jsx)(n.k,{sm:"4",children:Object(r.jsx)(n.w,{className:"mb-0",children:Object(r.jsx)(n.B,{type:"text",name:"nf-text",placeholder:"Search Here..",autoComplete:"off",value:c,onChange:i,onKeyPress:i})})}),Object(r.jsx)(n.k,{sm:"4",className:"d-flex justify-content-end",children:s})]})}},655:function(e,t,c){"use strict";function n(e,t,c,n,r,a,i){try{var s=e[a](i),o=s.value}catch(d){return void c(d)}s.done?t(o):Promise.resolve(o).then(n,r)}function r(e){return function(){var t=this,c=arguments;return new Promise((function(r,a){var i=e.apply(t,c);function s(e){n(i,r,a,s,o,"next",e)}function o(e){n(i,r,a,s,o,"throw",e)}s(void 0)}))}}c.d(t,"a",(function(){return r}))},722:function(e,t,c){"use strict";c.r(t);var n=c(84),r=c(1),a=c.n(r),i=c(650),s=c(653),o=c(654),d=c.n(o),l=c(655),j=c(161),p=c(49),m=c(649),h=c(17),u=function(e){var t=e.show,c=e.setShow,r=e.refetch,s=e.itemId,o=e.setEditId,u=a.a.useState([]),b=Object(n.a)(u,2),x=b[0],O=b[1],v=a.a.useState([]),f=Object(n.a)(v,2),g=f[0],k=f[1],w=a.a.useState({name:"",description:"",price:"",petTypeId:"",serviceId:"",active:!0}),y=Object(n.a)(w,2),I=y[0],T=y[1],N=Object(i.a)({url:"https://app.aloropivetcenter.com/api/items",method:"POST"},{manual:!0}),C=Object(n.a)(N,2),S=C[0].loading,E=C[1],P=function(e){T((function(t){return"active"===e.target.name?Object(p.a)(Object(p.a)({},t),{},Object(j.a)({},e.target.name,e.target.checked)):Object(p.a)(Object(p.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},G=a.a.useCallback(Object(l.a)(d.a.mark((function e(){var t,c,n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({url:"https://app.aloropivetcenter.com/api/services",method:"GET"});case 2:return a=e.sent,O((null===(t=a)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.rows)||[]),e.next=6,E({url:"https://app.aloropivetcenter.com/api/pet-types",method:"GET"});case 6:if(a=e.sent,k((null===(n=a)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.rows)||[]),!s){e.next=13;break}return e.next=11,E({url:"https://app.aloropivetcenter.com/api/items/".concat(s),method:"GET"});case 11:a=e.sent,T({name:a.data.name,description:a.data.description,price:a.data.price,petTypeId:a.data.petTypeId,serviceId:a.data.serviceId,active:a.data.active});case 13:case"end":return e.stop()}}),e)}))),[E,s]);return a.a.useEffect((function(){t&&G()}),[t,G]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(m.K,{show:t,onClose:function(){return c(!1)},children:[Object(h.jsx)(m.N,{closeButton:!0,children:"Add Item"}),Object(h.jsx)(m.L,{children:S?Object(h.jsx)("div",{className:"py-5 text-center",children:"Loading Details ..."}):Object(h.jsx)(m.T,{children:Object(h.jsxs)(m.k,{className:"px-5 pt-4",children:[Object(h.jsxs)(m.w,{row:!0,children:[Object(h.jsx)(m.k,{md:"3",children:Object(h.jsx)(m.G,{className:"pt-1",htmlFor:"text-name",children:"Name"})}),Object(h.jsx)(m.k,{xs:"12",md:"9",children:Object(h.jsx)(m.B,{id:"text-name",name:"name",value:I.name,onChange:P,placeholder:"Enter Name for item"})})]}),Object(h.jsxs)(m.w,{row:!0,children:[Object(h.jsx)(m.k,{md:"3",children:Object(h.jsx)(m.G,{className:"pt-1",htmlFor:"text-price",children:"Price"})}),Object(h.jsx)(m.k,{xs:"12",md:"9",children:Object(h.jsx)(m.B,{id:"text-price",name:"price",value:I.price,onChange:P,placeholder:"Enter Price for item"})})]}),Object(h.jsxs)(m.w,{row:!0,children:[Object(h.jsx)(m.k,{md:"3",children:Object(h.jsx)(m.G,{className:"pt-1",htmlFor:"text-pet-type",children:"Pet Type"})}),Object(h.jsx)(m.k,{xs:"12",md:"9",children:Object(h.jsxs)(m.U,{custom:!0,name:"petTypeId",id:"text-pet-type",onChange:P,value:I.petTypeId,children:[Object(h.jsx)("option",{value:"0",children:"Select"}),g.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})]}),Object(h.jsxs)(m.w,{row:!0,children:[Object(h.jsx)(m.k,{md:"3",children:Object(h.jsx)(m.G,{className:"pt-1",htmlFor:"text-service",children:"Service"})}),Object(h.jsx)(m.k,{xs:"12",md:"9",children:Object(h.jsxs)(m.U,{custom:!0,name:"serviceId",id:"text-service",onChange:P,value:I.serviceId,children:[Object(h.jsx)("option",{value:"0",children:"Select"}),x.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.displayName},e.id)}))]})})]}),Object(h.jsxs)(m.w,{row:!0,children:[Object(h.jsx)(m.k,{md:"3",children:Object(h.jsx)(m.G,{className:"pt-1",htmlFor:"text-description",children:"Description"})}),Object(h.jsx)(m.k,{xs:"12",md:"9",children:Object(h.jsx)(m.fb,{id:"text-description",name:"description",value:I.description,onChange:P,placeholder:"Enter Description ..."})})]}),Object(h.jsxs)(m.w,{row:!0,children:[Object(h.jsx)(m.k,{xs:"3",md:"3",children:Object(h.jsx)(m.G,{htmlFor:"text-description",children:"Active"})}),Object(h.jsx)(m.k,{xs:"9",md:"9",children:Object(h.jsx)(m.eb,{color:"primary",name:"active",checked:I.active,onChange:P,variant:"opposite",shape:"pill"})})]})]})})}),Object(h.jsxs)(m.M,{children:[Object(h.jsx)(m.e,{color:"secondary",onClick:function(){return c(!1),T({name:"",description:"",price:"",petTypeId:"",serviceId:"",active:!0}),void o(null)},children:"Cancel"}),Object(h.jsx)(m.e,{onClick:function(){if(!S){var e={data:Object(p.a)({},I)};s&&(e.url="https://app.aloropivetcenter.com/api/items/".concat(s),e.method="PUT"),E(e).then((function(e){c(!1),T({name:"",description:"",price:"",petTypeId:"",serviceId:"",active:!0}),o(null),r()}))}},className:"ml-1",color:"primary",children:S?"Loading":"Confirm"})]})]})})},b=["name","price",{key:"createdAt",label:"Registered"},"description","actions"];t.default=function(){var e=a.a.useState(!1),t=Object(n.a)(e,2),c=t[0],r=t[1],o=a.a.useState(""),d=Object(n.a)(o,2),l=d[0],j=d[1],p=a.a.useState(1),x=Object(n.a)(p,2),O=x[0],v=x[1],f=a.a.useState(1),g=Object(n.a)(f,2),k=g[0],w=g[1],y=a.a.useState(null),I=Object(n.a)(y,2),T=I[0],N=I[1],C=Object(i.a)({url:"https://app.aloropivetcenter.com/api/items",method:"GET",params:{pageNo:k}},{manual:!0}),S=Object(n.a)(C,2),E=S[0],P=E.data,G=E.loading,F=E.error,A=S[1];return a.a.useEffect((function(){A().then((function(e){v(e.data.totalPages)}))}),[A]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.T,{children:Object(h.jsx)(m.k,{xs:"12",lg:"12",children:Object(h.jsxs)(m.f,{children:[Object(h.jsx)(m.j,{children:"Items"}),Object(h.jsx)(m.g,{children:Object(h.jsx)(m.o,{items:G||F?[]:(null===P||void 0===P?void 0:P.rows)||[],fields:b,striped:!0,itemsPerPage:10,loading:G,overTableSlot:Object(h.jsx)(s.a,{keyword:l,changeKeyword:function(e){"Enter"===e.key?A({params:{search:l}}):j(e.target.value)},children:Object(h.jsx)(m.e,{color:"primary",variant:"outline",className:"m-2 pl-3 pr-4",onClick:function(){return r(!0)},children:Object(h.jsx)("span",{className:"ml-1",children:"Add Item"})})}),underTableSlot:Object(h.jsx)(m.R,{activePage:k,pages:O,onActivePageChange:function(e){return w(e)}}),scopedSlots:{actions:function(e){return Object(h.jsxs)("td",{children:[Object(h.jsx)(m.e,{onClick:function(){return t=e.id,N(t),void r(!0);var t},color:"primary",size:"sm",className:"mr-1",children:"Edit"}),Object(h.jsx)(m.e,{onClick:function(){return t=e.id,void A({url:"https://app.aloropivetcenter.com/api/items/".concat(t),method:"DELETE"});var t},color:"danger",size:"sm",children:"Delete"})]})}}})})]})})}),Object(h.jsx)(u,{show:c,setShow:r,refetch:A,itemId:T,setEditId:N})]})}}}]);
//# sourceMappingURL=7.626d45b9.chunk.js.map
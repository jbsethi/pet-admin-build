(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[25],{724:function(e,t,a){"use strict";a(1);var c=a(89),n=a(22);t.a=function(e){var t=e.keyword,a=void 0===t?"":t,s=e.changeKeyword,l=void 0===s?null:s,r=e.children;return Object(n.jsxs)(c.T,{className:"align-items-center justify-content-between pb-2",children:[Object(n.jsx)(c.l,{sm:"4",children:Object(n.jsx)(c.x,{className:"mb-0",children:Object(n.jsx)(c.B,{type:"text",name:"nf-text",placeholder:"Search Here..",autoComplete:"off",value:a,onChange:l,onKeyPress:l})})}),Object(n.jsx)(c.l,{sm:"4",className:"d-flex justify-content-end",children:r})]})}},847:function(e,t,a){"use strict";a.r(t);var c=a(725),n=a.n(c),s=a(723),l=a(82),r=a(1),i=a(720),o=a(89),d=a(722),j=a(719),b=a(724),u=a(194),h=a(759),O=a(22),x=["id",{key:"visitorName",label:"Visitor's Name"},{key:"createdAt",label:"Registered"},{key:"checkUpPrice",label:"Doctor's Fee"},{key:"price",label:"Total Bill"}];t.default=function(){var e=Object(r.useContext)(u.a),t=(e.role,e.addToast),a=Object(r.useState)(""),c=Object(l.a)(a,2),m=c[0],g=c[1],p=Object(r.useState)(""),f=Object(l.a)(p,2),v=f[0],y=f[1],N=Object(r.useState)(!1),w=Object(l.a)(N,2),S=w[0],k=w[1],C=Object(r.useState)(null),D=Object(l.a)(C,2),F=D[0],T=D[1],P=Object(r.useState)({}),B=Object(l.a)(P,2),R=B[0],A=(B[1],Object(r.useState)(1)),E=Object(l.a)(A,2),K=E[0],M=E[1],U=Object(r.useState)(1),Y=Object(l.a)(U,2),G=Y[0],J=Y[1],L=Object(r.useState)(0),W=Object(l.a)(L,2),H=W[0],V=W[1],q=Object(r.useState)(null),z=Object(l.a)(q,2),I=z[0],Q=z[1],X=Object(r.useState)([]),Z=Object(l.a)(X,2),$=Z[0],_=Z[1],ee=Object(i.a)({url:j.a+"orders",method:"GET",params:{pageNo:G}},{manual:!0}),te=Object(l.a)(ee,2),ae=te[0],ce=ae.data,ne=ae.loading,se=te[1],le=Object(i.a)({method:"GET"},{manual:!0}),re=Object(l.a)(le,2),ie=(re[0],re[1]),oe=function(){var e=Object(s.a)(n.a.mark((function e(t){var a,c,s,l=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=l.length>1&&void 0!==l[1]?l[1]:null)){e.next=9;break}return e.next=4,ie({url:j.a+"orders/"+a.id});case 4:c=e.sent,s=c.data,T(s),e.next=10;break;case 9:T(null);case 10:k(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(e){var a=new Date(e.target.value),c="".concat(a.getFullYear(),"-").concat(("0"+(a.getMonth()+1)).slice(-2),"-").concat(a.getDate());0!==$.length?"to"===e.target.name?d.b.compare($[0],c)>0?(e.target.value=Date.now(),t({message:"To date should be greater than from date !"})):_((function(e){return[e[0],c]})):d.b.compare(c,$[1])>0?(e.target.value=Date.now(),t({message:"To date should be greater than from date !"})):_((function(e){return[c,e[1]]})):_([c])},je=function(){var e={pageNo:G,fromDate:$[0],toDate:$[1]};v&&(e.search=v),se({params:e}).then((function(e){var t,a,c;Q((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)||0),M((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalPages)||1),J(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.pageNo)}))};return Object(r.useEffect)((function(){2===H&&1===$.length||je()}),[$,G,se,v]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(o.T,{children:Object(O.jsx)(o.l,{xs:"12",lg:"12",children:Object(O.jsxs)(o.g,{children:[Object(O.jsx)(o.k,{children:"Orders"}),Object(O.jsx)(o.h,{children:Object(O.jsx)(o.p,{items:ne?[]:(null===ce||void 0===ce?void 0:ce.rows)||[],fields:x,striped:!0,itemsPerPage:10,loading:!1,onRowClick:function(e){return oe(!0,e)},overTableSlot:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{keyword:m,changeKeyword:function(e){"Enter"===e.key?y(m):g(e.target.value)}}),Object(O.jsxs)("div",{className:"d-flex justify-content-between pb-3",children:[Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)("div",{style:{marginRight:"10px"},children:Object(O.jsx)(o.f,{onClick:function(){V(1);var e=new Date,t="".concat(e.getFullYear(),"-").concat(("0"+(e.getMonth()+1)).slice(-2),"-").concat(e.getDate());_([t,t])},style:{border:"1px solid #d8dbe0"},children:"Current"})}),Object(O.jsxs)(o.U,{custom:!0,name:"order",value:H,onChange:function(e){_([]),V(+e.target.value)},children:[Object(O.jsx)("option",{value:"0",children:"No Filter"}),Object(O.jsx)("option",{value:"1",children:"Filter by Date"}),Object(O.jsx)("option",{value:"2",children:"Filter By Range"})]}),Object(O.jsx)("div",{style:{marginLeft:"10px"},children:Object(O.jsx)(o.f,{color:"danger",onClick:function(){V(0),g(""),y(""),_([])},style:{border:"1px solid #d8dbe0"},children:"Clear"})})]}),1===H&&Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("label",{className:"mb-0",children:"Filter by Date: "}),Object(O.jsx)("input",{onChange:function(e){var t=new Date(e.target.value),a="".concat(t.getFullYear(),"-").concat(("0"+(t.getMonth()+1)).slice(-2),"-").concat(t.getDate());_([a,a])},className:"ml-2",type:"date"})]}),2===H&&Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("label",{className:"mb-0",children:"Filter From: "}),Object(O.jsx)("input",{onChange:de,className:"ml-2",type:"date",name:"from"})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center ml-3",children:[Object(O.jsx)("label",{className:"mb-0",children:"Filter To: "}),Object(O.jsx)("input",{onChange:de,className:"ml-2",type:"date",name:"to"})]})]})]}),Object(O.jsxs)("div",{className:"d-flex",style:{gap:"30px",justifyContent:"space-between"},children:[Object(O.jsxs)("div",{style:{paddingBottom:"5px",color:"#1d273e",fontWeight:"600"},children:[Object(O.jsxs)("span",{children:[" Total Orders: ",Object(O.jsx)("span",{children:I})]}),v&&Object(O.jsxs)("span",{style:{marginLeft:"20px"},children:[" Search String: ",Object(O.jsx)("span",{children:v})]})]}),0!==H&&0!==$.length&&Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{paddingBottom:"5px",color:"#1d273e",fontWeight:"600"},children:"Showing results for :"})," ",Object(O.jsx)("span",{children:$[0]})," ",2==H&&Object(O.jsxs)("span",{children:[": ",$[1]]})]})]})]}),scopedSlots:{createdAt:function(e){return Object(O.jsx)("td",{children:Object(d.c)(e.createdAt)})},visitorName:function(e){var t;return Object(O.jsx)("td",{children:(null===e||void 0===e||null===(t=e.Patient)||void 0===t?void 0:t.name)||"---"})}},underTableSlot:Object(O.jsx)(o.R,{activePage:G,pages:K,onActivePageChange:function(e){return J(e)}})})})]})})}),Object(O.jsx)(h.a,{disableUpdate:!0,refetch:je,show:S,setShow:oe,order:F,patientData:R})]})}}}]);
//# sourceMappingURL=25.b20a660b.chunk.js.map
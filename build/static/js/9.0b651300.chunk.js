(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{663:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}));var c="https://app.aloropivetcenter.com/api",s="https://app.aloropivetcenter.com/public/"},718:function(e,t,a){"use strict";a.r(t);var c=a(162),s=a(49),n=a(84),r=a(1),i=a.n(r),l=a(20),o=a(653),m=a(663),d=a(652),j=a(17);t.default=function(e){var t,a,r,u,h=e.match,p=Object(l.g)(),b=Object(o.a)({url:"https://app.aloropivetcenter.com/api/users".concat((null===h||void 0===h||null===(t=h.params)||void 0===t?void 0:t.id)?"/"+(null===h||void 0===h||null===(a=h.params)||void 0===a?void 0:a.id):""),method:(null===h||void 0===h||null===(r=h.params)||void 0===r?void 0:r.id)?"PUT":"POST"},{manual:!0}),O=Object(n.a)(b,2),x=O[0],w=x.data,v=x.loading,f=O[1],g=Object(o.a)({url:"".concat(m.a,"/users/").concat(h.params.id),method:"GET"},{manual:!0}),N=Object(n.a)(g,2),k=N[0].data,y=N[1],C=i.a.useState(null),F=Object(n.a)(C,2),G=F[0],I=F[1],B=i.a.useState({emiratesId:"",role:1,name:"",email:"",contact:"",username:"",password:"",confirm_password:"",image:"",active:!0}),E=Object(n.a)(B,2),P=E[0],_=E[1],U=function(e){_((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(c.a)({},e.target.name,"active"===e.target.name?e.target.checked:e.target.value))}))};return i.a.useEffect((function(){w&&p.push("/users")}),[w,p]),i.a.useEffect((function(){var e;k?_({emiratesId:k.emiratesId,role:k.role,name:k.name,email:k.email,contact:k.contact,username:k.username,password:"",confirm_password:"",image:k.image,active:k.active}):(null===h||void 0===h||null===(e=h.params)||void 0===e?void 0:e.id)&&y()}),[k,_,y,h]),Object(j.jsx)(d.T,{children:Object(j.jsx)(d.k,{xl:12,children:Object(j.jsxs)(d.f,{children:[Object(j.jsx)(d.j,{children:"Add Users"}),Object(j.jsx)(d.g,{children:Object(j.jsx)(d.v,{action:"",method:"post",className:"form-horizontal",children:Object(j.jsxs)(d.T,{children:[Object(j.jsxs)(d.k,{lg:"7",children:[Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-emirates-id",children:"Emirates ID"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsx)(d.B,{value:P.emiratesId,onChange:U,id:"input-emirates-id",name:"emiratesId",placeholder:"Emirates ID"})})]}),Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-role",children:"Roles"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsxs)(d.U,{value:P.role,onChange:U,custom:!0,name:"role",id:"input-role",children:[Object(j.jsx)("option",{value:"1",children:"Administrator"}),Object(j.jsx)("option",{value:"2",children:"Receiptionist"}),Object(j.jsx)("option",{value:"3",children:"Doctor"})]})})]}),Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-name",children:"Name"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsx)(d.B,{value:P.name,onChange:U,id:"input-name",name:"name",placeholder:"Name"})})]}),Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-email",children:"Email"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsx)(d.B,{value:P.email,onChange:U,id:"input-email",name:"email",placeholder:"Email"})})]}),Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-contact",children:"Phone No"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsx)(d.B,{value:P.contact,onChange:U,id:"input-contact",name:"contact",placeholder:"Phone no"})})]}),Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-username",children:"Username"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsx)(d.B,{value:P.username,onChange:U,id:"input-username",name:"username",placeholder:"Username"})})]}),!(null===h||void 0===h||null===(u=h.params)||void 0===u?void 0:u.id)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-password",children:"Password"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsx)(d.B,{value:P.password,onChange:U,id:"input-password",name:"password",placeholder:"Password",type:"password"})})]}),Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-confirm-password",children:"Confirm Password"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsx)(d.B,{value:P.confirm_password,onChange:U,id:"input-confirm-password",name:"confirm_password",placeholder:"Password",type:"password"})})]})]}),Object(j.jsxs)(d.w,{row:!0,className:"justify-content-center",children:[Object(j.jsx)(d.G,{className:"text-right",sm:"3",col:!0,htmlFor:"input-active",children:"Active"}),Object(j.jsx)(d.k,{sm:"6",children:Object(j.jsx)(d.eb,{className:"pt-1",color:"primary",name:"active",checked:P.active,onChange:U,variant:"opposite",shape:"pill"})})]})]}),Object(j.jsx)(d.k,{lg:"4",children:Object(j.jsxs)(d.I,{className:"flex-column",children:[Object(j.jsx)("img",{src:G||"https://www.kindpng.com/picc/m/72-723761_student-png-sammilani-mahavidyalaya-undergraduate-and-dummy-user.png",alt:"preview",width:"100%"}),Object(j.jsx)(d.J,{className:"w-100 mt-4",children:Object(j.jsx)(d.w,{row:!0,children:Object(j.jsx)(d.k,{sm:"12",children:Object(j.jsx)(d.B,{onChange:function(e){var t=new FileReader,a=e.target.files[0];t.onloadend=function(){_((function(e){return Object(s.a)(Object(s.a)({},e),{},{image:a})})),I(t.result)},t.readAsDataURL(a)},id:"input-image",name:"image",type:"file"})})})})]})})]})})}),Object(j.jsx)(d.h,{children:Object(j.jsxs)("section",{className:"text-right w-50 ml-auto",children:[Object(j.jsx)(d.e,{onClick:function(){_((function(){return{emiratesId:"",role:1,name:"",email:"",contact:"",username:"",password:"",confirm_password:"",image:"",active:!0}})),I(null)},color:"danger",className:"mr-1 w-25",children:"Clear"}),Object(j.jsx)(d.e,{onClick:function(){if(!v){var e=Object(s.a)({},P);h.params.id&&(delete e.password,delete e.confirm_password);var t=function(e){var t=new FormData;return Object.keys(e).forEach((function(a){return t.append(a,e[a])})),t}(e);f({data:t})}},color:"primary",className:"w-25",children:v?"Loading":"Submit"})]})})]})})})}}}]);
//# sourceMappingURL=9.0b651300.chunk.js.map